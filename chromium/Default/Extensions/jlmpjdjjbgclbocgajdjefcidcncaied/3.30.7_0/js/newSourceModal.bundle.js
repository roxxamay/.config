"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7774],{93825:(e,t,r)=>{r.d(t,{m:()=>m});var n,a=r(51911),l=r(29901),o=r(4714);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const s=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=l.createElement("path",{d:"M12.037 3l.301.013.242.023c2.157.27 3.813 2.077 3.914 4.252l.005.211.001 2.256.313.109c.483.179.835.372 1.186.643.448.346.802.77 1.064 1.289l.106.228.078.197.06.185.062.223c.044.188.075.385.097.62l.015.183.016.34.004.366v1.725l-.006.395-.016.322a5.04 5.04 0 01-.066.548l-.058.278-.075.258-.127.332a3.7 3.7 0 01-.99 1.342l-.198.162-.175.126c-.224.153-.46.28-.755.403l-.233.092-.342.117-.509.15-.546.151c-2.086.576-4.29.612-6.39.108l-.419-.108-.748-.207-.195-.059-.194-.061-.295-.104a4.481 4.481 0 01-.802-.386l-.19-.124-.17-.124a3.72 3.72 0 01-1.063-1.289l-.107-.227-.078-.198-.06-.185-.061-.223a4.492 4.492 0 01-.098-.62l-.015-.183-.016-.373-.003-2.243.005-.21.016-.322a5.04 5.04 0 01.066-.547l.059-.279.074-.257.127-.333a3.715 3.715 0 011.154-1.478 4.276 4.276 0 011.202-.65l.295-.1.002-2.295.01-.284.017-.215c.213-2.057 1.892-3.697 3.995-3.935l.219-.02.187-.007h.108zm-.036 7.482c-1.42 0-2.841.255-4.262.765a2.7 2.7 0 00-.779.418c-.259.2-.463.44-.613.719l-.083.172-.061.154-.027.079-.047.169a3.024 3.024 0 00-.062.386l-.014.157-.014.29-.003.166v2.067l.003.166.014.29c.012.166.029.305.051.426l.025.117.047.17.027.079.061.153c.128.296.31.55.547.767l.15.124.135.1c.13.088.275.168.468.25l.155.061.26.09.15.048.343.099.546.15a11.23 11.23 0 005.574.101l.392-.1.546-.151.42-.123.332-.114c.22-.082.383-.162.522-.247l.101-.065.136-.099c.26-.2.463-.439.613-.719l.083-.172.062-.153.027-.08.046-.169c.027-.112.048-.237.063-.386l.013-.157.014-.29.005-.347v-1.705l-.005-.346-.014-.29a3.782 3.782 0 00-.051-.427l-.025-.117-.046-.17-.027-.078-.062-.154a2.227 2.227 0 00-.696-.891 2.7 2.7 0 00-.778-.418 12.54 12.54 0 00-4.262-.765zm0 2.018a1.5 1.5 0 01.87 2.723l-.119.076v1.451l-.006.087a.75.75 0 01-1.488.015l-.007-.102V15.3a1.5 1.5 0 01.75-2.8zm-.013-8l-.187.007c-1.386.092-2.537 1.128-2.758 2.438l-.023.172-.014.18L9 7.5 9 9.194l.448-.073a17.263 17.263 0 014.596-.068l.509.068.447.074-.001-1.695a3 3 0 00-2.43-2.948l-.175-.027-.192-.018-.214-.007z",fill:"currentcolor",fillRule:"evenodd"})))};var u;function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const f=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),u||(u=l.createElement("path",{d:"M12.047 3l.362.015.29.027c2.59.324 4.576 2.493 4.698 5.103l.006.254.004 2.825c.29.125.486.25.679.398.376.288.655.644.84 1.07l.074.184.033.095.056.203c.043.179.073.386.092.652l.017.349.006.415v2l-.006.415-.017.348a4.05 4.05 0 01-.092.652l-.056.204-.033.095-.073.183a2.675 2.675 0 01-.841 1.07l-.164.12c-.196.132-.42.25-.752.374l-.402.136-.507.148-.658.18a13.628 13.628 0 01-7.202 0l-.659-.18-.595-.176-.313-.108a3.403 3.403 0 01-.753-.375l-.163-.118a2.675 2.675 0 01-.84-1.07l-.075-.184-.032-.095-.057-.204a4.049 4.049 0 01-.092-.652l-.016-.348-.005-.199L4.8 14.59c0-.15.002-.289.006-.415l.016-.349c.02-.266.05-.473.092-.652l.057-.203.032-.095.074-.184c.186-.426.465-.782.84-1.07.194-.149.391-.273.682-.399l.004-2.868.01-.34.022-.26c.255-2.468 2.27-4.437 4.795-4.722l.263-.024.224-.009h.13zm-.085 9.602a1.8 1.8 0 00-.9 3.36v1.742a.9.9 0 001.794.105l.006-.105.001-1.742a1.8 1.8 0 00-.9-3.36zm.026-7.803l-.224.01c-1.663.109-3.046 1.353-3.31 2.925l-.028.207-.017.215-.007.244-.001 2.252c1.2-.3 2.4-.45 3.601-.45 1.2 0 2.401.15 3.602.45L15.602 8.4a3.602 3.602 0 00-2.917-3.538l-.209-.033-.231-.021-.257-.009z",fill:"currentcolor",fillRule:"evenodd"})))};var d=l.createElement,m=function(e){return d(o.ZP,(0,a.Z)({},e,{IconPrimary:s,IconSecondary:f}))}},97246:(e,t,r)=>{r.r(t),r.d(t,{default:()=>re});var n=r(28076),a=r(93309),l=r(70468),o=r(62699),c=r.n(o),s=r(29901),u=r(2067),i=r(59266),f=r(83849),d=r.n(f),m=r(91385),p=r.n(m),b=r(6189),h=r(86825),v=r(68802),g=r(57332),y=r(96206),w=r(53767),x=["signal"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.signal,l=(0,w.Z)(r,x),o=new AbortController,c=fetch(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({signal:o.signal},l));a&&a.addEventListener("abort",(function(){return o.abort()}));var s=setTimeout((function(){return o.abort()}),t);return c.finally((function(){return clearTimeout(s)}))}var P,j,k,N=r(32575),Z=r(66022),E=(0,m.gql)(P||(P=(0,Z.Z)(["\n  query SourceByFeed($feed: String!) {\n    source: sourceByFeed(feed: $feed) {\n      id\n      name\n      image\n    }\n  }\n"]))),z=(0,m.gql)(j||(j=(0,Z.Z)(["\n  mutation RequestSource($data: RequestSourceInput!) {\n    requestSource(data: $data) {\n      id\n    }\n  }\n"]))),_=(0,m.gql)(k||(k=(0,Z.Z)(["\n  query SourceRequestAvailability {\n    sourceRequestAvailability {\n      hasAccess\n    }\n  }\n"]))),C=r(24283),q=r(68071),D=r(97518),R=r(51911),L=r(56567),A=r(43643),F=r(16309),I=r(54121),B=s.createElement;const M=function(e){var t=e.onRequestClose,r=(0,I.iX)({onPopupGranted:function(){return t(null)}}).onEnablePush,n=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(F.Yq.NewSourceModal);case 2:e.sent&&(null==t||t(null));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return B(D.u_,(0,R.Z)({},e,{kind:D.u_.Kind.FlexibleTop,size:D.u_.Size.Medium}),B(D.u_.Header,null),B(D.u_.Body,null,B(D.u_.Title,null,"Enable Push Notifications"),B(D.u_.Text,{className:"text-center"},"Get notified of the status of your source submissions"),B("img",{className:"mx-auto my-14",src:L.n.notifications.big,alt:"A sample browser notification"})),B(D.u_.Footer,{justify:A.WD.Center},B(b.zx,{variant:h.Wu.Primary,onClick:n},"Enable notifications")))};var T=r(37272),W=r(60297),H=r(65881),Y=r(71830),K=r(96883),$=r(93825),U=r(76075),V=r(62639),G=r(33973),J=r(16130),X=r(43573),Q=s.createElement;function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te=function(e,t){return Q("span",{className:"flex w-full flex-1 items-center justify-between"},e,Q(b.zx,{variant:h.Wu.Tertiary,tag:"a",target:"_blank",href:t,icon:Q(Y.h,null)}))};function re(e){var t=(0,s.useRef)(),r=(0,s.useState)(!1),o=r[0],f=r[1],m=(0,s.useState)(),w=m[0],x=m[1],O=(0,s.useState)(!1),P=O[0],j=O[1],k=(0,s.useState)(!1),Z=k[0],R=k[1],L=(0,V.KB)().isPushSupported,A=(0,I.iX)().hasPermissionCache,F=(0,s.useState)(),B=F[0],Y=F[1],re=(0,s.useState)(),ne=re[0],ae=re[1],le=(0,s.useState)(),oe=le[0],ce=le[1],se=(0,s.useContext)(C.ZP),ue=se.user,ie=se.isLoggedIn,fe=se.loginState,de=se.showLogin,me=q.IP.SubmitNewSource,pe=e.onRequestClose,be=(0,T.Z)(U.N,!1),he=(0,l.Z)(be,2),ve=he[0],ge=he[1],ye=(0,u.a)([X.dt.SourceRequestAvailability,null==ue?void 0:ue.id],(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()(y.B3,_);case 2:return t=e.sent,e.abrupt("return",t.sourceRequestAvailability);case 4:case"end":return e.stop()}}),e)})))),we=ye.data,xe=ye.isLoading,Oe=function(){j(!0),x("Failed to fetch information, try to find the link to the RSS itself and try again.")},Se=(0,i.D)((function(e){return p()(y.B3,E,{feed:e})})),Pe=Se.mutateAsync,je=Se.isLoading,ke=(0,i.D)(function(){var e=(0,a.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("".concat(y.JW,"/scrape/source?url=").concat(t),2e4,{credentials:"same-origin"});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onMutate:function(){x(null),j(!1),Y(null),ae(null),ce(null)},onSuccess:function(e){return"website"!==e.type?Oe():e.rss.length?Y(e.rss.map((function(e){return{label:te(e.title,e.url),value:e.url}}))):x("Could not find RSS feed")},onError:Oe}),Ne=ke.mutateAsync,Ze=ke.isLoading,Ee=(0,i.D)((function(e){return p()(y.B3,z,{data:{sourceUrl:e}})}),{onSuccess:function(){A||!L||ve?null==pe||pe(null):R(!0)}}),ze=Ee.mutateAsync,_e=Ee.isLoading,Ce=function(){var e=(0,a.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ue){e.next=4;break}return de({trigger:me}),e.abrupt("return");case 4:return r=(0,g.x)(t.currentTarget),e.next=7,Ne(r.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=(0,a.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!oe){e.next=3;break}return e.abrupt("return");case 3:return r=(0,g.x)(t.currentTarget),e.next=6,Pe(r.rss);case 6:if(!(n=e.sent).source){e.next=11;break}ce(n.source),e.next=13;break;case 11:return e.next=13,ze(r.rss);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(!0);case 2:pe(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onRequestClose:De},e);if(xe)return null;var Le=ie&&we.hasAccess;return Z?Q(M,Re):Q(D.u_,Re,Q(D.u_.Header,{title:"Suggest new source"}),Q(D.u_.Body,null,Q(D.u_.Text,null,"Have an idea for a new source? Insert its link below to add it to the feed."),Q("a",{className:"mb-2 font-bold text-theme-label-link underline typo-callout",target:"_blank",rel:"noopener",href:N.L5},"Content guidelines"),Q("form",{className:"flex w-full flex-col",ref:t,onSubmit:Ce,"aria-busy":Ze,"data-testid":"login state: ".concat(null==fe?void 0:fe.trigger),id:"submit-source"},Q(G.n,{disabled:!Le||!(null==B||!B.length),className:{container:"mt-4"},inputId:"new-source-field",name:"url",label:"Paste blog / RSS URL",placeholder:"Paste blog / RSS URL",autoComplete:"off",type:"url",autoFocus:!0,"aria-describedby":w&&"new-source-field-desc",valueChanged:function(){t.current&&f(t.current.checkValidity())},fieldType:"primary",leftIcon:Q(K.x,null),rightIcon:Le?void 0:Q($.m,{className:"text-theme-label-disabled"})})),Le&&oe&&Q(W.ZP,{className:"mt-4",type:W.NK.Error,title:Q(s.Fragment,null,oe.name," already exist"," ",Q(H.Z,{className:"ml-auto",source:oe,size:"small"}))}),!Le&&Q(J.C,{className:"mt-4"}),Le&&Q(s.Fragment,null,!(null==B||!B.length)&&!oe&&Q(s.Fragment,null,Q("div",{className:"mb-6 self-start text-theme-label-tertiary typo-callout"},B.length," RSS feed",B.length>1?"s":""," found"),Q("form",{className:"flex w-full flex-col items-center",id:"select-feed",onSubmit:qe},Q(v.Y,{name:"rss",options:B,onChange:ae,value:ne,className:{container:"w-full self-start",content:"w-full pr-0"}}))),!oe&&w&&!(null!=B&&B.length)&&Q(s.Fragment,null,Q("div",{id:"new-source-field-desc",className:d()("self-start text-theme-status-error typo-callout",!P&&"mb-6")},w),P&&Q(b.zx,{tag:"a",className:"mb-6 mt-3 self-start",variant:h.Wu.Secondary,size:h.qE.Small,href:"mailto:hi@daily.dev?subject=Failed to add new source",target:"_blank",rel:"noopener noreferrer"},"Contact")))),Le&&Q(D.u_.Footer,null,!(null!=B&&B.length)&&Q(b.zx,{form:"submit-source",variant:h.Wu.Primary,type:"submit",disabled:Ze||!o,loading:Ze},"Check link"),!(null==B||!B.length)&&Q(s.Fragment,null,Q(b.zx,{className:"mr-auto",disabled:je||_e,onClick:function(){Y([])}},"Back"),Q(b.zx,{form:"select-feed",variant:h.Wu.Primary,type:"submit",disabled:!ne||!!oe,loading:je||_e},"Submit for review"))))}},16130:(e,t,r)=>{r.d(t,{C:()=>m});var n=r(51911),a=r(53767),l=r(83849),o=r.n(l),c=r(29901),s=r(34260),u=r.n(s),i=r(60297),f=["className"],d=c.createElement,m=function(e){var t=e.className,r=(0,a.Z)(e,f);return d(i.ZP,(0,n.Z)({},r,{className:o()(t,"flex-1"),type:i.NK.Error,title:d("div",{className:"block flex-1","data-testid":"reputationAlert"},"You do not have enough reputation to use this feature yet. However, you can"," ",d(u(),{href:"/squads/new"},d("a",{className:"font-bold underline"},"create a Squad"))," ","instead where you can share your favorite content , invite your friends and colleagues and a lot more!")}))}},65881:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(51911),a=r(53767),l=r(29901),o=r(10220),c=r(77144),s=r(74872),u=r(56567),i=r(63496),f=["source","rounded","isLink"],d=l.createElement;const m=function(e){var t=e.source,r=e.rounded,l=void 0===r?"full":r,m=e.isLink,p=(0,a.Z)(e,f),b=(0,i.Y)().isCompanion;return d(o.Z,{condition:!!m,wrapper:function(e){return d(s.x,{href:t.permalink},e)}},d(c.YY,(0,n.Z)({},p,{rounded:l,user:{id:t.id,image:t.image,username:t.handle},fallbackSrc:u.n.squads.imageFallback,nativeLazyLoading:b})))}},60297:(e,t,r)=>{r.d(t,{oM:()=>x,NK:()=>d,ZP:()=>O});var n,a,l=r(29901),o=r(83849),c=r.n(o),s=r(51911),u=r(4714);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const f=function(e){return l.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=l.createElement("defs",null,l.createElement("clipPath",{id:"outlined_svg__a"},l.createElement("path",{fill:"currentcolor",d:"M11.541.514a4 4 0 011.4 1.317l.126.209 5.58 9.92a4 4 0 01-3.23 5.953l-.256.008H4a4 4 0 01-3.605-5.733l.119-.228 5.58-9.92A4 4 0 0111.541.514zM7.92 2.887l-.082.133-5.58 9.92a2 2 0 001.594 2.976L4 15.92h11.16a2 2 0 001.815-2.841l-.071-.14-5.58-9.92a2 2 0 00-3.405-.133zM9.58 11.92a1 1 0 110 2 1 1 0 010-2zm0-7a1 1 0 011 1v4a1 1 0 11-2 0v-4a1 1 0 011-1z"})))),a||(a=l.createElement("g",{clipPath:"url(#outlined_svg__a)",fill:"currentcolor",transform:"translate(2.42 3.079)"},l.createElement("path",{d:"M0 0h19.161v17.921H0V0z"}))))};var d,m=l.createElement,p=r(84816),b=r(87809),h=r(99269),v=l.createElement;!function(e){e.Info="info",e.Error="error",e.Success="success"}(d||(d={}));var g={info:"text-theme-color-bun",error:"text-theme-status-error",success:"text-theme-status-success"},y={info:"border-l-theme-color-bun",error:"border-l-theme-status-error",success:"border-l-theme-status-success"},w={info:p.A,error:function(e){return m(u.ZP,(0,s.Z)({},e,{IconPrimary:f,IconSecondary:f}))},success:b.t},x=(0,h.Z)("p","typo-callout mt-3");const O=function(e){var t=e.className,r=e.title,n=e.children,a=e.type,l=void 0===a?d.Info:a,o=e.flexDirection,s=void 0===o?"flex-col":o,i=w[l];return v("div",{className:c()("flex border border-l-4 border-theme-active p-3",s,y[l],n?"rounded-16":"rounded-12",t)},v("span",{className:"flex flex-row items-center"},v(i,{size:u.Jh.Small,className:c()("mr-2",g[l])}),v("span",{className:c()("flex flex-1 typo-callout",n&&"font-bold",n&&g[l])},r)),n)}},57332:(e,t,r)=>{r.d(t,{x:()=>o});var n=r(28076);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){return Array.from(e.elements).reduce((function(e,t){return""===t.name?e:"checkbox"===t.type?l(l({},e),{},(0,n.Z)({},t.name,t.checked)):"radio"!==t.type||t.checked?"file"===t.type?l(l({},e),{},(0,n.Z)({},t.name,0===t.files.length?null:t.files)):l(l({},e),{},(0,n.Z)({},t.name,t.value.length?t.value:null)):e}),t)}}}]);