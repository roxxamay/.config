"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[4872,4561],{99922:(e,t,n)=>{n.d(t,{Z:()=>i});var o,r=n(29901);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const i=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 15.6 16.5",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("g",{fill:"currentcolor",fillRule:"evenodd"},r.createElement("path",{d:"M6.8 2.5a4 4 0 006.589 3.05c.15.478.238.984.257 1.509l.004.219v3.37l.008.123c.055.443.409.794.853.846l.236.014a.975.975 0 010 1.935l-.122.008h-3.9l-.007.2a2.926 2.926 0 01-2.726 2.72L7.8 16.5l-.193-.006a2.926 2.926 0 01-2.727-2.748l-.005-.172h-3.9l-.122-.008A.975.975 0 01.86 11.63l.236-.014c.481-.06.853-.47.853-.968v-3.37l.006-.272a5.853 5.853 0 014.152-5.33l.177-.052c.21-.056.425-.1.644-.134A3.99 3.99 0 006.8 2.5z"}),r.createElement("path",{d:"M10.8 0a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",fillRule:"nonzero"}))))}},33342:(e,t,n)=>{n.d(t,{Z:()=>i});var o,r=n(29901);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const i=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("g",{fill:"currentcolor",fillRule:"evenodd"},r.createElement("path",{d:"M11.3 5.476l-.004.01c-.159.39-.259.81-.287 1.248L11 7.04l-.262.063-.148.042-.206.067a4.877 4.877 0 00-3.238 4.15l-.016.224-.005.226v2.808l-.008.111a.813.813 0 01-.596.674l-.107.021-.196.012-.1.018a.813.813 0 00-.014 1.574l.107.021.101.007h3.25l.005.143.015.165a2.439 2.439 0 002.092 2.107l.165.017.161.005.16-.005.165-.016a2.439 2.439 0 002.09-2.077l.017-.172.005-.168h3.25l.102-.006.107-.02a.813.813 0 000-1.571l-.107-.021-.196-.012-.109-.02a.814.814 0 01-.581-.576l-.022-.108-.006-.103v-2.807l-.003-.183-.014-.226a4.862 4.862 0 00-.133-.795l.13-.064a4.014 4.014 0 001.038-.783l.102-.11c.184.51.305 1.051.355 1.612l.021.338.004.21-.002 2.225.078.025c.804.28 1.399.99 1.524 1.844l.02.173.005.166c0 1.116-.795 2.06-1.95 2.277l-.168.026-.195.01-2.048-.001-.044.108a3.962 3.962 0 01-2.955 2.273l-.224.032-.207.019-.258.005-.21-.007a3.924 3.924 0 01-3.281-2.219l-.094-.212-2.146-.001-.196-.015A2.313 2.313 0 014 16.245c0-.903.52-1.693 1.323-2.076l.165-.071.137-.049v-2.27l.007-.262a6.38 6.38 0 014.3-5.735l.24-.077.178-.052c.311-.083.629-.142.95-.177z"}),r.createElement("path",{d:"M15 3a4 4 0 100 8 4 4 0 000-8z"}))))}},71594:(e,t,n)=>{n.d(t,{Z:()=>i});var o,r=n(29901);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const i=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("path",{d:"M12 3a1 1 0 011 1l.001 1.071A7.005 7.005 0 0118.929 11H20a1 1 0 010 2l-1.071.001a7.005 7.005 0 01-5.928 5.928L13 20a1 1 0 01-2 0v-1.07A7.005 7.005 0 015.071 13L4 13a1 1 0 010-2h1.07A7.005 7.005 0 0111 5.07V4a1 1 0 011-1zm1.001 4.1L13 8a1 1 0 01-2 0v-.9A5.006 5.006 0 007.1 11H8a1 1 0 010 2l-.9.001A5.006 5.006 0 0011 16.9V16a1 1 0 012 0l.001.9A5.006 5.006 0 0016.9 13L16 13a1 1 0 010-2h.9A5.006 5.006 0 0013 7.1zM12 10.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"currentcolor",fillRule:"evenodd"})))}},98685:(e,t,n)=>{n.d(t,{Z:()=>i});var o,r=n(29901);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const i=function(e){return r.createElement("svg",a({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("path",{d:"M12 3a1 1 0 011 1l.001.566A7.504 7.504 0 0119.434 11H20a1 1 0 010 2l-.566.001A7.504 7.504 0 0113 19.434L13 20a1 1 0 01-2 0v-.566A7.504 7.504 0 014.566 13L4 13a1 1 0 010-2h.566A7.504 7.504 0 0111 4.566V4a1 1 0 011-1zm1 3.083V6.5a1 1 0 01-2 0v-.417A6.005 6.005 0 006.083 11H6.5a1 1 0 010 2h-.417A6.005 6.005 0 0011 17.918V17.5a1 1 0 012 0v.417A6.005 6.005 0 0017.918 13L17.5 13a1 1 0 010-2h.417a6.005 6.005 0 00-4.916-4.917zM12 9a3 3 0 110 6 3 3 0 010-6zm0 1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",fill:"currentcolor",fillRule:"evenodd"})))}},36863:(e,t,n)=>{n.d(t,{Z:()=>C});var o=n(93309),r=n(70468),a=n(62699),i=n.n(a),l=n(29901),s=n(37881),c=n(42279),u=n(72296),d=n(96237),m=n(80084),p=n(67659),f=n(61991),v=n(8102),h=n(29097),b=n(16309),g=n(61289),y=n(51287),x=n(10489),w=n(74116),N=n(86825),k=n(59732),P=n(8161),S=l.createElement;function C(e){var t=e.post,n=t.commentsPermalink,a=P.A.SharePost,C=(0,k.r)().getShortUrl,Z=(0,m._)(),O=(0,r.Z)(Z,2),E=O[0],q=O[1],j=(0,l.useContext)(f.ZP).trackEvent,I=(0,y.e)().openModal,T=function(e){return j((0,v.gR)("share post",t,{extra:{provider:e,origin:b.aP.ShareBar}}))},L=function(){var e=(0,o.Z)(i().mark((function e(o){var r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(o),e.next=3,C(n,a);case 3:r=e.sent,l=(0,p.J9)({provider:o,link:r,text:null==t?void 0:t.title}),window.open(l,"_blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,a);case 2:t=e.sent,q({link:t}),T(p.YE.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(h.Hl,{className:"hidden flex-col p-3 laptop:flex"},S("p",{className:"mb-4 text-theme-label-tertiary typo-callout"},"Would you recommend this post?"),S("div",{className:"grid grid-cols-4 gap-2 gap-y-4"},S(x.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,onClick:D,pressed:E,icon:S(s.T,{className:E&&"text-theme-color-avocado",secondary:E}),label:E?"Copied!":"Copy link"}),S(x.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:S(c.u,{secondary:!0}),className:"text-white",onClick:function(){return L(p.YE.WhatsApp)},label:"WhatsApp"}),S(x.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:S(u.V,{secondary:!0}),onClick:function(){return L(p.YE.Facebook)},label:"Facebook"}),S(x.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:S(d.Z,null),onClick:function(){return L(p.YE.Twitter)},label:"X"}),S(w.P,{size:N.qE.Medium,squadAvatarSize:"large",onClick:function(e,n){return function(e){j((0,v.gR)(b.s6.StartShareToSquad,t)),I({type:g.nT.CreateSharedPost,props:{squad:e,preview:t,onSharedSuccessfully:function(){return j((0,v.gR)(b.s6.ShareToSquad,t))}}})}(n)}})))}},75733:(e,t,n)=>{n.d(t,{I:()=>h});var o=n(70468),r=n(29901),a=n(37881),i=n(47031),l=n(80084),s=n(6189),c=n(86825),u=n(57767),d=n(29097),m=n(8102),p=n(16309),f=n(61991),v=r.createElement;function h(e){var t=e.post,n=e.share,r=e.link,h=(0,l._)(r),b=(0,o.Z)(h,2),g=b[0],y=b[1],x=(0,f.Os)().trackEvent;return v(d.Hl,{className:"flex flex-col items-start gap-2 p-3 laptop:hidden"},v(s.zx,{size:c.qE.Small,onClick:function(){return y()},pressed:g,icon:v(a.T,null),variant:c.Wu.Tertiary,color:u.S.Avocado},g?"Copied!":"Copy link"),v(s.zx,{size:c.qE.Small,onClick:function(){x((0,m.gR)(p.s6.StartShareToSquad,t)),n(t)},icon:v(i.a,null),variant:c.Wu.Tertiary,color:u.S.Cabbage},"Share with your friends"))}},92828:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(51911),r=n(53767),a=n(29901),i=n(43643),l=n(41922),s=a.createElement;function c(e){var t,n=e.content,o=e.charactersLimit,r=void 0===o?150:o,i=e.threshold,c=void 0===i?50:i,u=e.contentPrefix,d=e.className,m=(0,a.useState)(!1),p=m[0],f=m[1],v=p?"Show less":"Show more",h=function(){return n&&(null==n?void 0:n.length)>r+c};return s("div",{className:d},s("p",{className:"select-text break-words typo-body"},u,p||!h()?n:(t=null==n?void 0:n.slice(0,r)).slice(0,Math.min(t.length,t.lastIndexOf(" ")))," ",h()&&s(l.D,{className:"inline-flex !text-theme-label-link",onClick:function(){return f(!p)}},v)))}var u=["summary"],d=a.createElement;function m(e,t){var n=e.summary,a=(0,r.Z)(e,u);return d(i.FT,(0,o.Z)({ref:t},a),d(c,{content:n,charactersLimit:330,threshold:50,contentPrefix:d(i.Ni,null,"TLDR")}))}const p=(0,a.forwardRef)(m)},92805:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(29901),r=n(22057),a=o.createElement;function i(){return a("article",{"aria-busy":!0,className:"mt-4 flex flex-col items-stretch"},a("div",{className:"mb-2 flex items-center"},a(r.f,{className:"h-10 w-10 rounded-10"}),a("div",{className:"ml-2 flex h-8 flex-1 flex-col justify-between"},a(r.f,{className:"h-3 w-2/5 rounded-12"}),a(r.f,{className:"h-3 w-1/5 rounded-12"}))),a(r.f,{className:"my-2 h-8 w-full rounded-10"}))}},44054:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(98935),r=n(29901),a=n(92805),i=r.createElement,l=5;function s(e){var t=e.placeholderAmount,n=t<=l?t:l;return i(r.Fragment,null,Object.keys((0,o.Z)(Array(n))).map((function(e){return i(a.Z,{key:e})})))}},84018:(e,t,n)=>{n.r(t),n.d(t,{ContextMenu:()=>f,default:()=>p});var o=n(51911),r=n(53767),a=n(29901),i=n(28189),l=n(78756),s=n(10220),c=n(23659),u=["id","onHidden"],d=["options"],m=a.createElement;function p(e){var t=e.id,n=e.onHidden,a=(0,r.Z)(e,u),s=(0,c.Z)({id:null==t?void 0:t.toString()}).onHide;return m(l.K,null,m(i.v2,(0,o.Z)({},a,{id:t,onHidden:function(){s(),null==n||n()}})))}var f=function(e){var t=e.options,n=(0,r.Z)(e,d);return m(p,(0,o.Z)({disableBoundariesCheck:!0,className:"menu-primary",animation:"fade"},n),t.map((function(e){var t=e.label,n=e.icon,o=e.action,r=e.anchorProps,a=e.Wrapper;return m(s.Z,{key:t,condition:!!a,wrapper:function(e){return m(a,null,e)}},m(i.ck,{className:"typo-callout",onClick:o},m(s.Z,{condition:!!r,wrapper:function(e){return m("a",r,e)}},m("span",{className:"flex w-full items-center gap-2 typo-callout"},n," ",t))))})))}},4589:(e,t,n)=>{n.d(t,{J:()=>c});var o=n(51911),r=n(29901),a=n(4714),i=n(33342),l=n(99922),s=r.createElement,c=function(e){return s(a.ZP,(0,o.Z)({},e,{IconPrimary:i.Z,IconSecondary:l.Z}))}},73442:(e,t,n)=>{n.d(t,{G:()=>c});var o=n(51911),r=n(29901),a=n(4714),i=n(98685),l=n(71594),s=r.createElement,c=function(e){return s(a.ZP,(0,o.Z)({},e,{IconPrimary:i.Z,IconSecondary:l.Z}))}},21981:(e,t,n)=>{n.d(t,{Z:()=>q});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),l=n.n(i),s=n(97518);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var u=n(52210),d=n(22057),m=n(29097),p=a.createElement,f=function(){return p("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},p(d.f,{className:"w-7 h-7 rounded-full mt-1"}),p("div",{className:"flex flex-col ml-3 mr-2 flex-1"},p(m.P5,{className:"w-4/5"}),p(m.P5,{className:"w-4/5"}),p(m.P5,{className:"w-2/5"})))},v=n(43643),h=a.createElement,b=function(e){var t=e.padding,n=void 0===t?"py-3 px-4":t,o=e.textClassName;return h("article",{"aria-busy":!0,className:l()("relative flex flex-col items-start",n)},h(m.P5,{className:l()("w-4/5",o)}),h(m.P5,{className:l()("w-4/5",o)}),h(m.P5,{className:l()("w-2/5",o)}))},g=n(44054),y=n(99269),x=a.createElement,w=(0,y.Z)("div","flex flex-col flex-1 p-8"),N=function(e){var t=e.children;return x(m.Hl,null,x(m.P5,{className:"my-4 ml-6 w-2/5"}),x(m.Gd,null),t,x(m.Gd,null),x(m.P5,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},k=function(e){var t=e.shouldShowWidgets,n=void 0===t||t,o=e.className;return x(a.Fragment,null,x(w,{className:o},x(d.f,{className:"my-2 mb-8 h-8 w-3/5 rounded-10"}),x(b,{padding:"p-0 gap-2",textClassName:"h-4"}),x("div",{className:"my-8 flex flex-row gap-2"},x(d.f,{className:"h-6 w-20 rounded-10"}),x(d.f,{className:"h-6 w-20 rounded-10"})),x(d.f,{className:"h-52 w-4/5 rounded-16"}),x(d.f,{className:"my-8 h-8 w-2/5 rounded-10"}),x(m.Gd,null),x(g.Z,null)),n&&x(v.ry,{className:"flex-1 p-8"},x(m.P5,null),x(N,null,x(f,null),x(f,null),x(f,null)),x(N,null,x(b,null),x(b,null),x(b,null))))},P=n(72115),S=n(64761),C=a.createElement;const Z=function(e){var t=e.type,n=e.source,o=e.className,r=e.hasNavigation;if(!t)return null;var a=(0,S._N)(n);return t===u.hQ.Share?C(P.Z,{className:l()(o,{"m-auto":!a,"tablet:pb-0 tablet:flex-row":a}),hasNavigation:r},C(k,{className:l()({"tablet:border-r tablet:border-theme-divider-tertiary":a}),shouldShowWidgets:a})):C(P.Z,{hasNavigation:r,className:l()(o,"tablet:flex-row tablet:pb-0")},C(k,{className:"tablet:border-r tablet:border-theme-divider-tertiary"}))};var O=["className","children","isLoading","postType","source","loadingClassName"],E=a.createElement;const q=function(e){var t=e.className,n=e.children,a=e.isLoading,i=e.postType,u=e.source,d=e.loadingClassName,m=(0,r.Z)(e,O);return E(s.u_,(0,o.Z)({size:s.u_.Size.XLarge,kind:s.u_.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},m,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:l()(t,"mx-auto !bg-background-default focus:outline-none")}),a?E(Z,{hasNavigation:!0,type:i,source:u,className:d}):n)}},22294:(e,t,n)=>{n.d(t,{Z:()=>P});var o,r,a,i=n(28076),l=n(29901),s=n(83849),c=n.n(s),u=n(6189),d=n(86825),m=n(57767),p=n(48850),f=n(56567),v=n(4589),h=n(87809),b=n(32575),g=n(16309),y=n(76075),x=l.createElement,w=(o={},(0,i.Z)(o,g.Yq.NotificationsPage,"px-6 w-full border-l bg-theme-float"),(0,i.Z)(o,g.Yq.NewComment,"rounded-16 border px-4 mx-3 mb-3"),(0,i.Z)(o,g.Yq.CommunityPicks,"rounded-16 border px-4 mt-3"),(0,i.Z)(o,g.Yq.NewSourceModal,""),(0,i.Z)(o,g.Yq.NotificationItem,""),(0,i.Z)(o,g.Yq.SquadPage,"rounded-16 border px-4 mt-6"),(0,i.Z)(o,g.Yq.SquadPostCommentary,""),(0,i.Z)(o,g.Yq.SquadPostModal,"laptop:rounded-16 laptop:rounded-bl-[0] laptop:rounded-br-[0]"),(0,i.Z)(o,g.Yq.SquadChecklist,""),(0,i.Z)(o,g.Yq.SourceSubscribe,"w-full px-3 !pt-0 !pb-2"),o),N=(r={},(0,i.Z)(r,g.Yq.NotificationsPage,!1),(0,i.Z)(r,g.Yq.NewComment,!1),(0,i.Z)(r,g.Yq.CommunityPicks,!1),(0,i.Z)(r,g.Yq.NewSourceModal,!1),(0,i.Z)(r,g.Yq.SquadPage,!0),(0,i.Z)(r,g.Yq.SquadPostCommentary,!1),(0,i.Z)(r,g.Yq.SquadPostModal,!1),(0,i.Z)(r,g.Yq.NotificationItem,!1),(0,i.Z)(r,g.Yq.SquadChecklist,!1),(0,i.Z)(r,g.Yq.SourceSubscribe,!0),r),k=(a={},(0,i.Z)(a,g.Yq.SquadPostModal,"Subscribe"),(0,i.Z)(a,g.Yq.SourceSubscribe,"Enable"),a);const P=function(e){var t,n,o=e.source,r=void 0===o?g.Yq.NotificationsPage:o,a=e.contentName,s=e.className,P=e.label,S=(0,y.d)({source:r}),C=S.shouldShowCta,Z=S.acceptedJustNow,O=S.onEnable,E=S.onDismiss;if(!C)return null;var q=(t={},(0,i.Z)(t,g.Yq.SquadPostModal,""),(0,i.Z)(t,g.Yq.NewComment,"Want to get notified when ".concat(null!=a?a:"someone"," responds so you can continue the conversation?")),(0,i.Z)(t,g.Yq.CommunityPicks,"Would you like to get notified on the status of your post submissions in real time?"),(0,i.Z)(t,g.Yq.NotificationsPage,"Stay in the loop whenever you get a mention, reply and other important updates."),(0,i.Z)(t,g.Yq.NewSourceModal,""),(0,i.Z)(t,g.Yq.NotificationItem,""),(0,i.Z)(t,g.Yq.SquadPostCommentary,""),(0,i.Z)(t,g.Yq.SquadPage,"Get notified whenever something important happens on ".concat(a,".")),(0,i.Z)(t,g.Yq.SquadChecklist,""),(0,i.Z)(t,g.Yq.SourceSubscribe,"Get notified whenever there are new posts from ".concat(a,".")),t)[r],j=w[r],I=N[r],T=null!==(n=k[r])&&void 0!==n?n:"Enable notifications";return r===g.Yq.SquadPostModal?x("span",{className:c()("relative flex w-full flex-row items-center bg-gradient-to-r from-theme-color-water to-theme-color-onion p-3 font-bold typo-body",w[r])},x(v.J,{secondary:!0,className:"mr-2"})," Never miss new posts from"," ",P,x(u.zx,{className:"ml-auto mr-14",variant:d.Wu.Secondary,size:d.qE.XSmall,onClick:O},T),x(p.Z,{className:"absolute right-3",onClick:E})):x("div",{className:c()("relative overflow-hidden border-theme-color-cabbage py-4 typo-callout",j,s)},r===g.Yq.NotificationsPage&&x("span",{className:"flex flex-row font-bold"},Z&&x(h.t,{className:"mr-2"}),"Push notifications".concat(Z?" successfully enabled":"")),x("div",{className:"mt-2 flex justify-between gap-2"},x("p",{className:c()("w-full text-theme-label-tertiary tablet:w-3/5",r===g.Yq.SourceSubscribe&&"flex-1")},Z?x(l.Fragment,null,"Changing your"," ",x("a",{className:"underline hover:no-underline",href:"".concat(b.uJ,"account/notifications")},"notification settings")," ","can be done anytime through your account details"):q),x("img",{className:c()(r===g.Yq.SourceSubscribe?"h-16 w-auto":"absolute -bottom-2 hidden w-[7.5rem] tablet:flex",Z?"right-14":"right-4"),src:Z?f.n.notifications.browser_enabled:f.n.notifications.browser,alt:"A sample browser notification"})),x("div",{className:"align-center mt-4 flex"},!Z&&x(u.zx,{size:d.qE.Small,variant:d.Wu.Primary,color:m.S.Cabbage,className:"mr-4",onClick:O},T),I&&x(u.zx,{size:d.qE.Small,variant:d.Wu.Tertiary,onClick:E},"Dismiss")),!I&&x(p.Z,{size:d.qE.XSmall,className:"absolute right-1 top-1 laptop:right-3 laptop:top-3",onClick:E}))}},21161:(e,t,n)=>{n.d(t,{F:()=>tn,D:()=>en});var o=n(51911),r=n(1726),a=n.n(r),i=n(29901),l=n(62027),s=n(70468),c=n(24283),u=n(93309),d=n(62699),m=n.n(d),p=n(8102),f=n(61991),v=n(67659),h=n(3853),b=n(33014),g=n(59732),y=n(8161);var x=n(61289),w=n(52210),N=n(51287),k={post:"postUpvotes",comment:"commentUpvotes"},P={post:w.c3,comment:h.U2},S=n(68071),C=n(53767),Z=n(83849),O=n.n(Z),E=n(2832),q=n(77144),j=n(6189),I=n(86825),T=n(53782),L=n(96206),D=n(98935),A=n(28076),M=n(48706),z=n(59266),R=n(80022),Y=n.n(R),B=n(71092),U=n(27846),W=n(63496),F=n(57332),Q=n(11178),V=n(60647),_=n(43573),H=n(16309),$=i.createElement;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){return{node:G(G({},e),{},{children:{edges:[],pageInfo:null}})}};function X(e){var t,n=e.post,o=e.parentCommentId,r=e.initialContent,a=e.replyTo,l=e.editCommentId,s=e.className,u=void 0===s?{}:s,d=e.onCommented,m=null==n?void 0:n.id,v=null==n||null===(t=n.source)||void 0===t?void 0:t.id,b=(0,M.NL)(),g=(0,i.useRef)(),y=(0,c.Eu)().user,x=(0,i.useMemo)((function(){return _.e0.apply(void 0,[_.dt.PostCommentsMutations,y].concat((0,D.Z)([m,v,l,o].filter((function(e){return!!e})))))}),[y,m,v,l,o]),w=(0,W.Y)(),N=w.requestMethod,k=w.isCompanion,P=(0,f.Os)().trackEvent,S=function(e){if(e){var t=(0,_.e0)(_.dt.PostComments,null,m);b.setQueryData(t,(function(t){if(!t)return t;var n=Y()(t);if(!l){var r=K(e);if(!o)return n.postComments.edges.push(r),n;var a=n.postComments.edges.findIndex((function(e){return e.node.id===o}));return n.postComments.edges[a].node.children.edges.push(r),n}if(!o){var i=n.postComments.edges.findIndex((function(e){return e.node.id===l}));return n.postComments.edges[i].node=G(G({},e),{},{children:n.postComments.edges[i].node.children}),n}var s=n.postComments.edges.find((function(e){return e.node.id===o})),c=s.node.children.edges.findIndex((function(e){return e.node.id===l}));return s.node.children.edges[c].node=G(G({},e),{},{children:s.node.children}),n})),l||((0,Q.cM)(b,m,{numComments:n.numComments+1}),P((0,p.gR)(H.s6.CommentPost,n,{extra:{commentId:o}}))),d&&d(e,!l,o)}},C=o?h.y5:h.hK,Z=(0,z.D)((function(e){return N(L.B3,C,e,{requestKey:JSON.stringify(x)})}),{onSuccess:function(e){return S(null==e?void 0:e.comment)}}),E=Z.mutateAsync,q=Z.isLoading,j=Z.isSuccess;(0,V.V)(x,{enabled:k,callback:function(e){var t=e.res;return S(null==t?void 0:t.comment)}});var I=(0,z.D)((function(e){return N(L.B3,h.hp,e,{requestKey:JSON.stringify(x)})}),{onSuccess:function(e){return S(null==e?void 0:e.comment)}}),T=I.mutateAsync,A=I.isLoading,R=function(e){return l?T({id:l,content:e}):E({content:e,id:null!=o?o:m})};return(0,i.useEffect)((function(){var e,t,n;null==g||null===(e=g.current)||void 0===e||null===(t=e.textareaRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}),[]),$("form",{action:"#",onSubmit:function(e){e.preventDefault();var t=(0,F.x)(e.currentTarget).content;return R(t)},className:null==u?void 0:u.container},$(U.Z,{ref:g,className:{tab:O()("!min-h-[16rem]",null==u?void 0:u.tab),input:a&&"mt-0",profile:a&&"!mt-0"},postId:m,sourceId:v,showUserAvatar:!0,isLoading:q||A,disabledSubmit:j,initialContent:r,textareaProps:{name:"content",rows:7,placeholder:"Share your thoughts"},onSubmit:function(e){var t=e.currentTarget.value;return R(t)},enabledCommand:G(G({},B.Iw),{},{upload:!0}),submitCopy:l?"Update":"Comment",timeline:a?$("span",{className:"py-2 pl-12 text-theme-label-tertiary typo-caption1"},"Reply to",$("span",{className:"ml-2 font-bold text-theme-label-primary"},a)):null}))}var ee=["className","size","onCommented","post"],te=["comment"],ne=i.createElement,oe={large:I.qE.Medium,medium:I.qE.Small};function re(e,t){var n=e.className,r=e.size,a=void 0===r?"large":r,l=e.onCommented,s=e.post,u=(0,C.Z)(e,ee),d=(0,E.useRouter)(),m=(0,f.Os)().trackEvent,v=(0,c.Eu)(),h=v.user,b=v.showLogin,g=(0,i.useState)(void 0),y=g[0],x=g[1],N=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return m((0,p.gR)(H.s6.OpenComment,s,{extra:{origin:e}})),x(t)}),[s,m]),k="string"==typeof d.query.comment;(0,i.useEffect)((function(){if(k&&s.type===w.hQ.Welcome){var e=d.query,t=e.comment,n=(0,C.Z)(e,te);N(H.aP.SquadChecklist,t),d.replace({pathname:d.pathname,query:n},void 0,{shallow:!0})}}),[s,k,x,N,d]);var P=function(e){return h?N(e):b({trigger:S.IP.NewComment})};return(0,i.useImperativeHandle)(t,(function(){return{onShowInput:P}})),void 0!==y?ne(X,(0,o.Z)({},u,{post:s,className:{container:"my-4",tab:null==n?void 0:n.tab},onCommented:function(e,t){x(void 0),l(e,t)},initialContent:y})):ne("button",{type:"button",className:O()("flex w-full items-center rounded-16 border border-theme-divider-tertiary bg-theme-float p-3 typo-callout hover:border-theme-divider-primary hover:bg-theme-hover",null==n?void 0:n.container),onClick:function(){return P(H.aP.StartDiscussion)}},h?ne(q.YY,{user:h,size:a,nativeLazyLoading:!0}):ne(T.E,{src:L.Zm.avatar,alt:"Placeholder image for anonymous user",className:(0,q.o7)("large")}),ne("span",{className:"ml-4 text-theme-label-tertiary"},"Share your thoughts"),ne(j.zx,{size:oe[a],className:"ml-auto text-theme-label-primary",variant:I.Wu.Secondary,disabled:!0},"Post"))}var ae=(0,i.forwardRef)(re),ie=n(32814),le=n(61741),se=n(3330),ce=n(69885),ue=n(96883),de=n(47031),me=n(34715),pe=n(96521),fe=n(11056),ve=n(10220),he=n(62657),be=n(53170),ge=n(29064),ye=n(86747),xe=n(84376),we=n(51273),Ne=n(85734),ke=i.createElement;function Pe(e){var t,n,o,r,a,l,s=e.onShare,c=e.post,d=e.actionsClassName,p=void 0===d?"hidden mobileL:flex":d,f=e.onComment,v=e.origin,h=void 0===v?H.aP.ArticlePage:v,b=(0,we.SS)(Ne.z.copyLink),g=(0,be.V)(c),y=g.data,x=g.onShowPanel,N=g.onClose,k=y.showTagsPanel,P=(0,i.useContext)(ge._),S=P.queryKey,C=P.items,Z=(0,M.NL)(),E=(0,pe.U)({variables:{feedName:S},onMutate:S?function(e){var t=e.id,n=e.vote,o=(0,_.i4)(S,Z);return(0,ye.a)({id:t,vote:n,items:C,updatePost:o})}:void 0}),q=E.toggleUpvote,j=E.toggleDownvote,I=(0,xe._v)({mutationKey:S,onMutate:S?function(e){var t=e.id,n=(0,_.i4)(S,Z);return(0,xe.AM)({id:t,items:C,updatePost:n})}:void 0}).toggleBookmark,T=function(){var e=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({post:c,origin:h});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,u.Z)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==c||null===(t=c.userState)||void 0===t?void 0:t.vote)===w.xN.None&&N(!0),e.next=3,q({post:c,origin:h});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,u.Z)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(t=c.userState)||void 0===t?void 0:t.vote)!==w.xN.Down?x():N(!0),e.next=3,j({post:c,origin:h});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ke(ve.Z,{condition:void 0!==k,wrapper:function(e){return ke("div",{className:"flex flex-col"},e,ke(he.U,{post:c,className:"mt-4",toastOnSuccess:!1}))}},ke("div",{className:"flex items-center rounded-16 border border-theme-divider-tertiary"},ke(fe.Zb,{className:O()("flex !flex-row gap-2 hover:border-theme-divider-tertiary",{"border-theme-color-avocado hover:!border-theme-color-avocado bg-theme-overlay-float-avocado":(null==c||null===(t=c.userState)||void 0===t?void 0:t.vote)===w.xN.Up,"border-theme-color-ketchup hover:!border-theme-color-ketchup bg-theme-overlay-float-ketchup":(null==c||null===(n=c.userState)||void 0===n?void 0:n.vote)===w.xN.Down})},ke(me.s,{id:"upvote-post-btn",pressed:(null==c||null===(o=c.userState)||void 0===o?void 0:o.vote)===w.xN.Up,onClick:L,icon:ke(ie.o,{secondary:(null==c||null===(r=c.userState)||void 0===r?void 0:r.vote)===w.xN.Up}),"aria-label":"Upvote",responsiveLabelClass:p,className:"btn-tertiary-avocado"}),ke(me.s,{id:"downvote-post-btn",pressed:(null==c||null===(a=c.userState)||void 0===a?void 0:a.vote)===w.xN.Down,onClick:D,icon:ke(le.I,{secondary:(null==c||null===(l=c.userState)||void 0===l?void 0:l.vote)===w.xN.Down}),"aria-label":"Downvote",responsiveLabelClass:p,className:"btn-tertiary-ketchup"})),ke("div",{className:"flex flex-1 items-center justify-between px-4 py-2"},ke(me.s,{id:"comment-post-btn",pressed:c.commented,onClick:f,icon:ke(se.l,{secondary:c.commented}),"aria-label":"Comment",responsiveLabelClass:p,className:"btn-tertiary-blueCheese"},"Comment"),ke(me.s,{id:"bookmark-post-btn",pressed:c.bookmarked,onClick:T,icon:ke(ce.p,{secondary:c.bookmarked}),"aria-label":"Bookmark",responsiveLabelClass:p,className:"btn-tertiary-bun"},"Bookmark"),b?ke(me.s,{id:"share-post-btn",onClick:function(){return s(c)},icon:ke(ue.x,null),responsiveLabelClass:p,className:"btn-tertiary-cabbage"},"Copy"):ke(me.s,{id:"share-post-btn",onClick:function(){return s(c)},icon:ke(de.a,null),responsiveLabelClass:p,className:"btn-tertiary-cabbage"},"Share"))))}var Se=n(2067),Ce=n(77387),Ze=n(22294),Oe=n(34260),Ee=n.n(Oe),qe=n(12951),je=n(73442),Ie=n(76204),Te=n(86026),Le=n(74872),De=n(38409),Ae=n(19796),Me=n(72485),ze=n(43643),Re=n(28189),Ye=n(43792),Be=n(23036),Ue=n(21995),We=n(6188),Fe=n(57767),Qe=n(41922),Ve=n(31952),_e=n(84018),He=n(99269),$e=n(10754),Je=n(45462),Ge=n(20726),Ke=n(75160),Xe=i.createElement,et=(0,He.Z)("span","flex gap-2 items-center w-full");function tt(e){var t,n,o,r,a=e.post,l=e.comment,s=e.origin,d=e.parentId,v=e.className,b=e.onComment,g=e.onShare,y=e.onDelete,w=e.onEdit,k=e.onShowUpvotes,P="comment-actions-menu-".concat(l.id),C=(0,Re.av)({id:P}).show,Z=(0,i.useContext)(f.ZP).trackEvent,E=(0,i.useContext)(c.ZP),q=E.user,T=E.showLogin,D=(0,i.useState)(l.upvoted),A=D[0],R=D[1],Y=(0,i.useState)(l.numUpvotes),B=Y[0],U=Y[1],F=(0,N.e)().openModal,Q=(0,Ke.sW)().displayToast,V=(0,M.NL)();(0,i.useEffect)((function(){R(l.upvoted),U(l.numUpvotes)}),[l]);var H,$,J=(0,W.Y)().requestMethod,G=(0,z.D)((function(){return J(L.B3,h.NA,{id:l.id})}),{onMutate:(H=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.cancelQueries([_.dt.PostComments]);case 2:return R(!0),U(B+1),e.abrupt("return",(function(){R(A),U(B)}));case 5:case"end":return e.stop()}}),e)}))),function(){return H.apply(this,arguments)}),onError:function(e,t,n){return n()}}),K=G.mutateAsync,X=(0,z.D)((function(){return J(L.B3,h.C5,{id:l.id})}),{onMutate:($=(0,u.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.cancelQueries([_.dt.PostComments]);case 2:return R(!1),U(B-1),e.abrupt("return",(function(){R(A),U(B)}));case 5:case"end":return e.stop()}}),e)}))),function(){return $.apply(this,arguments)}),onError:function(e,t,n){return n()}}),ee=X.mutateAsync,te=(null==q?void 0:q.id)===l.author.id,ne=te||(null==q||null===(t=q.roles)||void 0===t?void 0:t.includes(We.G7.Moderator))||(null==a||null===(n=a.source)||void 0===n||null===(o=n.currentMember)||void 0===o||null===(r=o.permissions)||void 0===r?void 0:r.includes(Je.gm.CommentDelete)),oe=[];return te&&oe.push({label:"Edit comment",action:function(){return w(l)},icon:Xe(Ye.d,null)}),ne&&oe.push({label:"Delete comment",action:function(){return y(l,d)},icon:Xe(Be.X,null)}),te||oe.push({label:"Report comment",action:function(){return q?F({type:x.nT.ReportComment,props:{onReport:function(){return Q(Ge.p.reporting.reportFeedbackText)},comment:l,post:a}}):T({trigger:S.IP.ReportComment})},icon:Xe(Ue.U,null)}),Xe("div",{className:O()("flex flex-row items-center",v)},Xe(Ve.i,{content:"Upvote"},Xe(j.zx,{id:"comment-".concat(l.id,"-upvote-btn"),size:I.qE.Small,pressed:A,onClick:function(){if(q)return A?(Z((0,p.gR)((0,ze.sP)(!1),a,{extra:{origin:s,commentId:l.id}})),ee()):(Z((0,p.gR)((0,ze.sP)(!0),a,{extra:{origin:s,commentId:l.id}})),K());T({trigger:S.IP.CommentUpvote})},icon:Xe(ie.o,{secondary:A}),className:"mr-3",variant:I.Wu.Tertiary,color:Fe.S.Avocado})),Xe(Ve.i,{content:"Reply"},Xe(j.zx,{size:I.qE.Small,onClick:function(){return b(l,d)},icon:Xe(se.l,null),className:"mr-3",variant:I.Wu.Tertiary,color:Fe.S.BlueCheese})),Xe(Ve.i,{content:"Share comment"},Xe(j.zx,{size:I.qE.Small,onClick:function(){return g(l)},icon:Xe(de.a,null),className:"mr-3",variant:I.Wu.Tertiary,color:Fe.S.Cabbage})),!!oe&&Xe($e.Z,{tooltipPlacement:"top",onClick:function(e){return C(e,{position:(0,ze.DZ)(e)})}}),B>0&&Xe(Ve.i,{content:"See who upvoted"},Xe(Qe.D,{className:"ml-auto",onClick:function(){return k(l.id,B)}},B," upvote",1===B?"":"s")),Xe(_e.default,{disableBoundariesCheck:!0,id:P,className:"menu-primary typo-callout",animation:"fade"},oe.map((function(e){var t=e.label,n=e.action,o=e.icon;return Xe(Re.ck,{key:t,onClick:n},Xe(et,null,o," ",t))}))))}var nt=i.createElement;function ot(e){var t=e.author,n=e.className,o=e.appendTooltipTo;return nt(De.R,{user:t,tooltip:{appendTo:o}},nt(Le.x,{href:t.permalink,className:O()("commentAuthor w-fit font-bold text-theme-label-primary typo-callout",n),title:t.name},nt(ze.Ys,null,t.name)))}var rt=n(73503),at=n(34951),it=i.createElement;function lt(e){var t=e.comment,n=e.className,o=!!t.lastUpdatedAt,r=o?t.lastUpdatedAt:t.createdAt;return it(at.t,{date:r,type:rt.lf.Comment,className:O()("typo-callout",n),prefix:o?"Modified ":""})}var st=n(61030),ct=n(60656),ut=i.createElement;const dt=function(e){var t=e.post,n=e.comment,o=e.origin,r=e.commentHash,a=e.commentRef,i=e.parentId,l=e.onComment,s=e.onShare,c=e.onDelete,u=e.onEdit,d=e.onShowUpvotes,m=e.appendTooltipTo,p=e.postAuthorId,f=e.postScoutId,v=e.className,b=void 0===v?{}:v,g=e.children,y=e.linkToComment,x=r===(0,h.$7)(n.id),w=(0,st.t)({source:t.source,user:n.author}).role;return ut("article",{ref:x?a:null,className:O()("flex flex-col rounded-24 p-4 hover:bg-theme-hover focus:outline",x?"border border-theme-color-cabbage":"border-theme-divider-tertiary",b.container),"data-testid":"comment"},y&&ut(Ee(),{href:n.permalink,prefetch:!1,passHref:!0},ut(fe.YS,null)),g,ut("header",{className:"z-1 flex w-full flex-row self-start"},ut(De.R,{user:n.author,tooltip:{appendTo:m}},ut(Te.a,{user:n.author})),ut("div",{className:"ml-3 flex min-w-0 flex-1 flex-col typo-callout"},ut(ze.gq,null,ut(ot,{author:n.author,appendTooltipTo:m}),ut(ct.a,{key:"reputation",className:"ml-1",user:n.author}),ut(Ae.Z,{key:"squadMemberRole",role:w}),n.author.id===p&&ut(Me.Z,{key:"author",className:"text-theme-status-help",content:"Creator",Icon:qe.Y,iconProps:{secondary:!0}}),n.author.id===f&&ut(Me.Z,{key:"scout",className:"text-theme-color-bun",content:"Scout",Icon:je.G,iconProps:{secondary:!0}})),ut(ze.gq,{className:"items-center text-theme-label-quaternary"},ut(Le.x,{href:n.author.permalink},ut(ze.Ys,{title:"@".concat(n.author.username)},"@",n.author.username)),ut("div",{className:"mx-2 h-0.5 w-0.5 bg-theme-label-quaternary"}),ut(lt,{comment:n})))),ut("div",{className:O()("break-words-overflow z-1 mt-3 typo-body",b.content,y&&"pointer-events-none")},ut(Ie.Z,{content:n.contentHtml,appendTooltipTo:m}),ut(tt,{post:t,comment:n,origin:o,parentId:i,onShare:s,onComment:l,onDelete:c,onEdit:u,onShowUpvotes:d,className:"pointer-events-auto mt-3"})))};var mt=n(88467);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(e){var t=(0,f.Os)().trackEvent,n=(0,c.Eu)(),o=n.user,r=n.showLogin,a=(0,i.useState)(null),l=a[0],s=a[1],u=(0,i.useMemo)((function(){if(!l)return null;var e=null!=l?l:{},t=e.username;return{parentCommentId:e.parentCommentId,replyTo:t,initialContent:t?"@".concat(t," "):void 0}}),[l]);return{onReplyTo:(0,i.useCallback)((function(n){return o?((0,mt.le)(n)||t((0,p.gR)(H.s6.OpenComment,e,{extra:{origin:H.aP.PostCommentButton}})),n?n.username===o.username?s(ft(ft({},n),{},{username:null})):s(n):s(null)):r({trigger:S.IP.Comment})}),[o,r,t,e]),inputProps:u,commentId:null==l?void 0:l.commentId}},ht=function(){var e=(0,i.useState)(),t=e[0],n=e[1],o=null!=t?t:{},r=o.commentId,a=o.lastUpdatedAt,l=(0,c.Eu)().user,s=(0,W.Y)().requestMethod,u=(0,Se.a)((0,_.e0)(_.dt.Comment,l,r,a),(function(){return s(L.B3,h.p1,{id:r})}),{enabled:!!r}).data;return{onEdit:n,inputProps:(0,i.useMemo)((function(){var e;return t&&u?{editCommentId:t.commentId,parentCommentId:t.parentCommentId,initialContent:null==u||null===(e=u.comment)||void 0===e?void 0:e.content}:null}),[u,t])}},bt=["comment","parentComment","className","onCommented"],gt=i.createElement;const yt=function(e){var t=e.comment,n=e.parentComment,r=e.className,a=e.onCommented,l=(0,C.Z)(e,bt),s=vt(l.post),c=s.inputProps,u=s.commentId,d=s.onReplyTo,m=ht(),p=m.inputProps,f=m.onEdit;return gt(i.Fragment,null,!p&&gt(dt,(0,o.Z)({},l,{key:t.id,parentId:n.id,comment:t,onEdit:function(e){var t=e.id,o=e.lastUpdatedAt;return f({commentId:t,lastUpdatedAt:o,parentCommentId:n.id})},className:{container:"relative",content:"ml-14"},onComment:function(e,n){return d({username:t.author.username,parentCommentId:n,commentId:e.id})}}),gt("div",{className:"absolute bottom-0 left-9 top-0 -ml-px w-0.5 bg-theme-float","data-testid":"subcomment"})),p&&gt(X,(0,o.Z)({},p,{post:l.post,onCommented:function(e,t){f(null),a(e,t)},className:r})),u===t.id&&gt(X,(0,o.Z)({},c,{className:r,post:l.post,onCommented:function(){d(null),a.apply(void 0,arguments)}})))};var xt=n(33968),wt=n(37272),Nt=n(96628),kt=n(47449),Pt=n(43641),St=n(64761),Ct=i.createElement,Zt=function(e){var t,n=e.className,o=e.squad,r=e.analyticsOrigin,a=e.post,i=(0,M.NL)(),l=!(null==o||!o.currentMember),c=(0,Nt.V)(Nt.d.MobileL),u=(0,Ke.sW)().displayToast,d=(0,wt.Z)(St.D4,!1),m=(0,s.Z)(d,2),p=m[0],f=m[1],v=(0,z.D)((0,kt.C)({squad:o,referralToken:null==o||null===(t=o.currentMember)||void 0===t?void 0:t.referralToken}),{onSuccess:function(){u("🙌 You joined the Squad ".concat(o.name)),null!=a&&a.id&&i.invalidateQueries(["post",a.id])},onError:function(){u(Ge.p.error.generic)}}),h=v.mutateAsync,b=v.isLoading;return!o||p||l?null:Ct("div",{className:O()("mx-3 mb-3 flex flex-1 flex-row items-start justify-between gap-4 rounded-16 border border-theme-color-cabbage p-4",n)},Ct("div",{className:"flex flex-1 flex-col"},Ct("p",{className:"flex flex-1 text-theme-label-tertiary typo-callout"},"Join ",o.name," to see more posts like this one, contribute to conversation and more..."),Ct("div",{className:"mt-5 flex flex-row gap-3"},Ct(xt.D,{variant:I.Wu.Primary,color:Fe.S.Cabbage,squad:o,origin:r,onClick:function(){h()},disabled:b},"Join squad"),Ct(j.zx,{variant:I.Wu.Tertiary,onClick:function(){f(!0)}},"Dismiss"))),Ct(Pt.Z,{source:o,size:c?"large":"xxxxlarge"}))},Ot=["className","comment","appendTooltipTo","permissionNotificationCommentId","joinNotificationCommentId","onCommented","lazy"],Et=i.createElement;function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,A.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=function(e,t){var n,o;return e===t.id||(null===(n=t.children)||void 0===n||null===(o=n.edges)||void 0===o?void 0:o.some((function(t){return t.node.id===e})))};function Tt(e){var t,n,r,a,l,u,d,m,p=e.className,f=e.comment,v=e.appendTooltipTo,h=e.permissionNotificationCommentId,b=e.joinNotificationCommentId,g=e.onCommented,y=e.lazy,x=void 0!==y&&y,w=(0,C.Z)(e,Ot),N=(0,i.useContext)(c.ZP).user,k=(0,i.useMemo)((function(){return It(h,f)}),[h,f]),P=(0,wt.Z)(St.D4,!1),S=(0,s.Z)(P,1)[0],Z=(0,i.useMemo)((function(){return It(b,f)}),[b,f])&&!(null!==(t=w.post.source)&&void 0!==t&&t.currentMember)&&!S,E=vt(w.post),q=E.commentId,j=E.inputProps,I=E.onReplyTo,T=ht(),L=T.inputProps,D=T.onEdit,A=!x,M=(0,Ce.YD)({triggerOnce:!0,initialInView:A}),z=M.ref,R=M.inView;return Et("section",{ref:z,className:O()("flex scroll-mt-16 flex-col items-stretch rounded-24 border-theme-divider-tertiary",null==p?void 0:p.container,R&&"border"),"data-testid":"comment",style:{contentVisibility:A?"visible":"auto"}},!L&&R&&Et(dt,(0,o.Z)({},w,{comment:f,parentId:f.id,className:jt({container:"border-b"},null==p?void 0:p.commentBox),appendTooltipTo:v,onComment:function(e,t){return I({username:e.author.username,parentCommentId:t,commentId:e.id})},onEdit:function(e){var t=e.id,n=e.lastUpdatedAt;return D({commentId:t,lastUpdatedAt:n})}})),L&&Et(X,(0,o.Z)({},L,{post:w.post,onCommented:function(e,t){D(null),g(e,t)},className:null==p?void 0:p.commentBox})),q===f.id&&Et(X,(0,o.Z)({},j,{post:w.post,onCommented:function(){I(null),g.apply(void 0,arguments)},className:null==p?void 0:p.commentBox})),R&&(null===(n=f.children)||void 0===n?void 0:n.edges.map((function(e){var t=e.node;return Et(yt,(0,o.Z)({},w,{key:t.id,comment:t,parentComment:f,appendTooltipTo:v,className:null==p?void 0:p.commentBox,onCommented:g}))}))),Z&&Et(Zt,{className:!(null!==(r=f.children)&&void 0!==r&&null!==(a=r.edges)&&void 0!==a&&a.length)&&"mt-3",squad:null===(l=w.post)||void 0===l?void 0:l.source,analyticsOrigin:w.origin,post:w.post}),!Z&&k&&Et(Ze.Z,{className:!(null!==(u=f.children)&&void 0!==u&&null!==(d=u.edges)&&void 0!==d&&d.length)&&"mt-3",source:H.Yq.NewComment,contentName:(null==N?void 0:N.id)!==(null==f?void 0:f.author.id)?null==f||null===(m=f.author)||void 0===m?void 0:m.name:void 0}))}var Lt=n(44054),Dt=n(32575),At=n(23511),Mt={title:"Delete comment?",description:"Are you sure you want to delete your comment? This action cannot be undone.",okButton:{title:"Delete",variant:I.Wu.Primary,color:Fe.S.Cabbage}};var zt=i.createElement;function Rt(e){var t,n,o,r=e.post,a=e.origin,l=e.onShare,s=e.onClickUpvote,d=e.modalParentSelector,v=e.permissionNotificationCommentId,b=e.joinNotificationCommentId,g=e.className,y=void 0===g?{}:g,x=e.onCommented,w=r.id,N=(0,i.useRef)(),k=(0,i.useContext)(c.ZP).tokenRefreshed,P=(0,W.Y)().requestMethod,S=(0,_.e0)(_.dt.PostComments,null,w),C=(0,Se.a)(S,(function(){var e;return P(L.B3,h.nW,(e={postId:w},(0,A.Z)(e,Dt.UK,Z),(0,A.Z)(e,"first",500),e),{requestKey:JSON.stringify(S)})}),{enabled:!!w&&k,refetchInterval:6e4,refetchOnWindowFocus:!1}),Z=C.data,O=C.isLoading,E=((null===globalThis||void 0===globalThis||null===(t=globalThis.window)||void 0===t?void 0:t.location)||{}).hash,q=(null==Z||null===(n=Z.postComments)||void 0===n||null===(o=n.edges)||void 0===o?void 0:o.length)||0,j=(0,i.useRef)(null),I=function(){var e=(0,M.NL)(),t=(0,At.G)().showPrompt,n=(0,i.useContext)(f.ZP).trackEvent,o=(0,Ke.sW)().displayToast,r=(0,W.Y)().requestMethod;return{deleteComment:(0,i.useCallback)(function(){var a=(0,u.Z)(m().mark((function a(i,l,s){return m().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(Mt);case 2:if(a.sent){a.next=4;break}return a.abrupt("return");case 4:return n((0,p.gR)(H.s6.DeleteComment,s)),a.next=7,(0,h.YF)(i,r);case 7:o("The comment has been deleted"),(0,Q.hl)(e,s,i,l);case 9:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),[e,t,n,o,r])}}(),T=I.deleteComment,D=(0,i.useState)(!!E),z=D[0],R=D[1];return(0,i.useEffect)((function(){q>0&&z&&j.current&&(j.current.scrollIntoView({block:"center",inline:"nearest"}),R(!1))}),[q,z]),0===q?zt("div",{className:"mb-12 mt-8 text-center text-theme-label-quaternary typo-subhead"},"Be the first to comment."):O||(0,mt.le)(Z)?zt(Lt.Z,{placeholderAmount:r.numComments}):zt("div",{className:"mb-12 flex flex-col gap-4",ref:N},Z.postComments.edges.map((function(e,t){var n,o;return zt(Tt,{className:{commentBox:y},post:r,origin:a,commentHash:E,commentRef:j,comment:e.node,key:e.node.id,onShare:l,onDelete:function(e,t){return T(e.id,t,r)},onShowUpvotes:s,postAuthorId:null===(n=r.author)||void 0===n?void 0:n.id,postScoutId:null===(o=r.scout)||void 0===o?void 0:o.id,appendTooltipTo:null!=d?d:function(){return null==N?void 0:N.current},permissionNotificationCommentId:v,joinNotificationCommentId:b,onCommented:x,lazy:!E&&t>=ze.ug})})))}var Yt=i.createElement;function Bt(e){var t=e.post,n=e.onUpvotesClick,o=t.numUpvotes||0,r=t.numComments||0;return o>0||r>0||t.views>0?Yt("div",{className:"mb-5 flex items-center gap-x-4 text-theme-label-tertiary typo-callout","data-testid":"statsBar"},t.views>0&&Yt("span",null,t.views.toLocaleString()," Views"),o>0&&Yt(Qe.D,{onClick:function(){return n(o)}},o," Upvote",o>1?"s":""),r>0&&Yt("span",null,r.toLocaleString()," Comment".concat(1===r?"":"s"))):Yt(i.Fragment,null)}var Ut=n(35075),Wt=n(5453),Ft=i.createElement;function Qt(e){var t=e.post,n=(0,Wt.i)(t),o=n.shouldShowOverlay,r=n.onInteract,a=(0,g.r)({query:{url:t.commentsPermalink,cid:y.A.SharePost,enabled:o}}),i=a.isLoading,l=a.shareLink;return!o||i?null:Ft("div",{className:"mt-6 flex flex-col items-center gap-2 rounded-16 border border-border-subtlest-tertiary px-4 py-2 tablet:flex-row tablet:gap-4"},Ft("span",{className:"font-bold text-theme-label-tertiary typo-callout"},"Should anyone else see this post?"),Ft(Ut.J,{className:{container:"w-full flex-1"},link:l,onCopy:r,trackingProps:(0,p.gR)("share post",t,{extra:{provider:v.YE.CopyLink,origin:H.aP.PostContent}})}))}var Vt=i.createElement,_t=a()((function(){return n.e(3313).then(n.bind(n,11351))}),{loadableGenerated:{webpack:function(){return[11351]}}}),Ht=a()((function(){return n.e(5125).then(n.bind(n,56389))}),{ssr:!1,loadableGenerated:{webpack:function(){return[56389]}}}),$t=a()((function(){return Promise.all([n.e(4336),n.e(2489)]).then(n.bind(n,57077))}),{loadableGenerated:{webpack:function(){return[57077]}}});const Jt=function(e){var t=e.post,n=e.onShare,o=e.analyticsOrigin,r=e.shouldOnboardAuthor,a=e.enableShowShareNewComment,l=["post",t.id],d=(0,c.Eu)(),w=d.user,C=d.showLogin,Z=(0,i.useRef)(),O=(0,i.useState)(!1),E=O[0],q=O[1],j=(0,i.useState)(),I=j[0],T=j[1],L=(0,i.useState)(),D=L[0],A=L[1],M=function(){var e=(0,N.e)(),t=e.modal,n=e.openModal,o=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";n({type:x.nT.UpvotedPopup,props:{placeholderAmount:t,requestQuery:{queryKey:[k[o],e],query:P[o],params:{id:e,first:50}}}})};return(0,i.useMemo)((function(){var e,n;return{onShowUpvoted:o,queryKey:null==t||null===(e=t.props)||void 0===e||null===(n=e.requestQuery)||void 0===n?void 0:n.queryKey}}),[t])}().onShowUpvoted,z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.useContext)(f.ZP).trackEvent,o=(0,i.useState)(null),r=o[0],a=o[1],l=(0,i.useState)(null),c=l[0],d=l[1],x=(0,b.Z)((function(e){return d(e)}),700),w=(0,s.Z)(x,1)[0],N=(0,g.r)().getShortUrl;return(0,i.useEffect)((function(){t&&w()}),[w,t]),(0,i.useMemo)((function(){return{showShareNewComment:c,onShowShareNewComment:d,shareComment:r,openShareComment:(t=(0,u.Z)(m().mark((function t(o,r){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("share"in navigator)){t.next=14;break}return t.prev=1,t.next=4,N("".concat(r.commentsPermalink).concat((0,h.$7)(o.id)),y.A.ShareComment);case 4:return i=t.sent,t.next=7,navigator.share({text:"".concat(r.title,"\n").concat(i,"$}")});case 7:n((0,p.gR)("share post",r,{extra:{origin:e,provider:v.YE.Native,commentId:o.id}})),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:t.next=15;break;case 14:a(o);case 15:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(e,n){return t.apply(this,arguments)}),closeShareComment:function(){return a(null)}};var t}),[r])}(o,a),R=z.shareComment,Y=z.showShareNewComment,B=z.openShareComment,U=z.closeShareComment,W=z.onShowShareNewComment,F=(0,wt.Z)(St.D4,!1),Q=(0,s.Z)(F,1)[0],V=function(e,n){var o;n&&(T(e.id),!(0,St._N)(t.source)||null!==(o=t.source)&&void 0!==o&&o.currentMember||Q||A(e.id),W(e.id))};return(0,i.useEffect)((function(){r&&q(!0)}),[r]),Vt(i.Fragment,null,Vt(Bt,{post:t,onUpvotesClick:function(e){return M(t.id,e)}}),Vt(Pe,{onShare:n,post:t,postQueryKey:l,onComment:function(){return Z.current.onShowInput(H.aP.PostCommentButton)},actionsClassName:"hidden laptop:flex",origin:o}),Vt(Qt,{post:t}),Vt(ae,{className:{container:"my-6"},post:t,ref:Z,onCommented:V}),Vt(Rt,{post:t,origin:o,onShare:function(e){return B(e,t)},onClickUpvote:function(e,t){return M(e,t,"comment")},permissionNotificationCommentId:I,joinNotificationCommentId:D,onCommented:V}),E&&Vt(_t,{onSignUp:!w&&function(){return C({trigger:S.IP.Author})}}),Y&&Vt(Ht,{post:t,commentId:Y,onRequestClose:function(){return W(null)}}),R&&Vt($t,{isOpen:!!R,post:t,comment:R,origin:o,onRequestClose:U}))};var Gt=i.createElement,Kt=a()((function(){return Promise.all([n.e(4336),n.e(2489)]).then(n.bind(n,57077))}),{loadableGenerated:{webpack:function(){return[57077]}}}),Xt=a()((function(){return n.e(8876).then(n.bind(n,32005))}),{loadableGenerated:{webpack:function(){return[32005]}}}),en=120;function tn(e){var t=e.post,n=e.isFallback,r=e.origin,a=e.children,s=e.className,c=void 0===s?{}:s,u=e.navigationProps,d=e.engagementProps,m=e.shouldOnboardAuthor,p=e.enableShowShareNewComment,f=e.customNavigation,v=(null!=t?t:{}).id,h=d.onCloseShare,b=d.sharePost,g=d.onSharePost;return v||n?Gt(i.Fragment,null,null!=f?f:Gt(l.Z,(0,o.Z)({},u,{className:c.navigation})),a,Gt(Jt,{post:t,onShare:g,analyticsOrigin:r,shouldOnboardAuthor:m,enableShowShareNewComment:p}),b&&Gt(Kt,{isOpen:!!b,post:t,origin:r,onRequestClose:h})):Gt(Xt,null)}},39663:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(51911),r=n(53767),a=n(83849),i=n.n(a),l=n(29901),s=n(62027),c=["onPreviousPost","onNextPost","postPosition","post","className","isBannerVisible"],u=l.createElement;const d=function(e){var t=e.onPreviousPost,n=e.onNextPost,a=e.postPosition,l=e.post,d=e.className,m=void 0===d?{}:d,p=e.isBannerVisible,f=(0,r.Z)(e,c),v="Published on ".concat(null==l?void 0:l.source.name),h=null!=l&&l.author?"".concat(v," by ").concat(null==l?void 0:l.author.name):v,b={title:null==l?void 0:l.title,subtitle:h},g=!!t||!!n;return u(s.Z,(0,o.Z)({},f,{inlineActions:!0,post:l,contextMenuId:"fixed-post-navigation-context",className:{container:i()("fixed z-postNavigation ml-0 w-full border border-theme-divider-tertiary bg-background-subtle px-6 py-4","max-w-full laptop:left-[unset]",p?"top-14":"top-0",null==m?void 0:m.container),actions:null==m?void 0:m.actions},onPreviousPost:t,onNextPost:n,postPosition:a}),u("div",{className:i()("ml-2 flex-1 flex-col overflow-hidden",g&&"hidden tablet:flex")},u("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-theme-label-tertiary typo-footnote"},b.subtitle),u("h3",{className:"overflow-hidden text-ellipsis whitespace-nowrap font-bold typo-body"},b.title)))}},22454:(e,t,n)=>{n.d(t,{Dg:()=>he,C2:()=>be,QY:()=>ve});var o,r=n(28076),a=n(51911),i=n(83849),l=n.n(i),s=n(29901),c=n(52210),u=n(81618),d=n(92828),m=n(73084),p=n(43643),f=n(75733),v=n(24283),h=n(36863),b=n(84062),g=n(99269),y=n(29097),x=n(12951),w=n(73442),N=n(37280),k=n(74872),P=n(38409),S=n(10220),C=n(60656),Z=n(6189),O=n(86825),E=n(81253),q=n(31952),j=n(32575),I=n(37663),T=n(10526),L=n(85734),D=n(12800),A=s.createElement,M=function(e){var t=e.className,n=e.isFetching,o=e.variant,r=e.onClick;return A(Z.zx,{className:t,variant:o,disabled:n,onClick:r,size:O.qE.Small},"Subscribe")},z=function(e){var t=e.className,n=e.isFetching,o=e.onClick;return A(q.i,{forceLoad:!j.jp,content:"Unsubscribe"},A(Z.zx,{className:t,size:O.qE.Small,variant:O.Wu.Tertiary,icon:A(E._,null),disabled:n,onClick:o}))},R=(0,T.$)((function(e){var t=e.className,n=e.source,o=e.variant,r=void 0===o?O.Wu.Primary:o,a=(0,v.Eu)().isLoggedIn,i=(0,I.M)({source:n}),l=i.isSubscribed,s=i.onSubscribe,c=i.isReady;return A(l?z:M,{className:t,isFetching:a&&!c,onClick:s,variant:r})}),{feature:L.z.sourceSubscribe,value:D.Zj.V1}),Y=n(51273),B=n(1791),U=n(22294),W=n(16309),F=s.createElement;!function(e){e.Source="source",e.Author="author",e.Featured="featured",e.Scout="scout"}(o||(o={}));var Q=(0,g.Z)(m.w,"w-10 h-10"),V=function(e){var t=e.userType,n=e.name,r=e.permalink,a=e.image;if(t===o.Source)return F(N.t,{href:r,passHref:!0,prefetch:!1,tooltip:{placement:"bottom",content:n}},F(Q,{className:"cursor-pointer rounded-full",imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}));var i=e;return F(k.x,{href:i.permalink,"data-testid":"authorLink"},F(Q,{className:"rounded-12",imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}))},_=function(e){var t=e.id,n=e.handle,r=e.name,a=e.username,i=e.permalink,c=e.userType,u=void 0===c?o.Source:c,d=e.reputation,m=function(e){return e===o.Source?null:e===o.Author?x.Y:w.G}(u),p=u===o.Source,f=(0,Y.SS)(L.z.sourceSubscribe)===D.Zj.V1,v=(0,B.ZP)({enabled:f}).feedSettings,h=(0,s.useMemo)((function(){var e;return!!p&&!(null==v||null===(e=v.excludeSources)||void 0===e||!e.some((function(e){return e.id===t})))}),[p,null==v?void 0:v.excludeSources,t]);return F("div",{className:"relative flex flex-row items-center p-3"},F(S.Z,{condition:!p,wrapper:function(e){return F(P.R,{user:{id:t}},e)}},F(k.x,{href:i},F(V,e))),m&&F(m,{secondary:!0,className:l()("absolute left-10 top-10 h-5 w-5",u===o.Author?"text-theme-color-cheese":"text-theme-color-bun")}),F(S.Z,{condition:!p,wrapper:function(e){return F(P.R,{user:{id:t}},e)}},F("div",{className:"ml-4 flex min-w-0 flex-1 flex-col"},p&&F(k.x,{className:l()("!block truncate font-bold typo-callout"),href:i},r),!p&&F("div",{className:"flex"},F(k.x,{className:"font-bold typo-callout",href:i},r),F(C.a,{user:{reputation:d}})),(n||a||t)&&F(k.x,{className:"mt-0.5 !block truncate text-theme-label-tertiary typo-footnote",href:i},"@",n||a||t))),!h&&p&&F(R,{className:"ml-2",variant:O.Wu.Secondary,source:{id:t}}))},H=(0,T.$)(U.Z,{feature:L.z.sourceSubscribe,value:D.Zj.V1}),$=function(e){var t=e.source;return(0,I.M)({source:t}).isSubscribed?F(H,{source:W.Yq.SourceSubscribe,contentName:t.name}):null};function J(e){var t=e.post,n=t.author,r=t.scout,i=t.source;return F(y.Hl,{className:"flex flex-col"},F(_,(0,a.Z)({},i,{userType:o.Source})),F($,{source:i}),n&&F(_,(0,a.Z)({},n,{userType:o.Author})),r&&F(_,(0,a.Z)({},r,{userType:o.Scout})))}var G=n(32232),K=s.createElement;function X(e){var t=e.onShare,n=e.onReadArticle,o=e.post,r=e.className,a=e.onClose,i=(0,s.useContext)(v.ZP).tokenRefreshed;return K(p.ry,{className:r},K(G.W,{onShare:t,onReadArticle:n,post:o,onClose:a,className:"hidden pt-6 tablet:flex",contextMenuId:"post-widgets-context"}),K(J,{post:o}),K(h.Z,{post:o}),K(f.I,{post:o,share:t,link:o.commentsPermalink}),i&&K(b.Z,{currentPost:o}))}var ee=n(51577),te=n(36671),ne=n(75160),oe=n(72115),re=n(76309),ae=n(39663),ie=n(21161),le=n(56567),se=n(81383),ce=n(82504),ue=n(31976),de=n(51185),me=s.createElement;function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=80,he=120;function be(e){var t,n,o,r=e.post,i=e.className,p=void 0===i?{}:i,f=e.shouldOnboardAuthor,h=e.enableShowShareNewComment,b=e.origin,g=e.position,y=e.inlineActions,x=e.onPreviousPost,w=e.onNextPost,N=e.onClose,k=e.postPosition,P=e.isFallback,S=e.customNavigation,C=e.onRemovePost,Z=e.backToSquad,O=e.isBannerVisible,E=(0,v.Eu)().user,q=(0,ne.sW)().subject,j=(0,re.Z)({origin:b,post:r}),I=j.onSharePost,T=j.onReadArticle,L=(0,de.E)(),D=!!x||!!w,A=(0,c.AD)(r),M=l()("tablet:flex-row tablet:pb-0",null==p?void 0:p.container),z={postPosition:k,onPreviousPost:x,onNextPost:w,post:r,onReadArticle:T,onClose:N,onShare:I,inlineActions:y,onRemovePost:C};return(0,s.useEffect)((function(){A&&null!=r&&r.id&&null!=E&&E.id&&L(r.id)}),[A,L,r.id,null==E?void 0:E.id]),me(oe.Z,{hasNavigation:D,className:M,"aria-live":q===ne._R.PostContent?"polite":"off"},"fixed"===g&&me(ae.Z,(0,a.Z)({},z,{isBannerVisible:O,className:null==p?void 0:p.fixedNavigation})),me(ce.b,{className:l()("relative",null==p?void 0:p.content),"data-testid":"postContainer"},!D&&me(G.W,{onShare:I,onReadArticle:T,post:r,onClose:N,className:"mb-4 flex tablet:hidden",contextMenuId:"post-header-actions-context"}),me(ie.F,{className:fe(fe({},p),{},{onboarding:l()(null==p?void 0:p.onboarding,Z&&"mb-6"),navigation:{actions:null==p||null===(t=p.navigation)||void 0===t?void 0:t.actions,container:l()("pt-6",null==p||null===(n=p.navigation)||void 0===n?void 0:n.container)}}),isFallback:P,customNavigation:S,enableShowShareNewComment:h,shouldOnboardAuthor:f,navigationProps:z,engagementProps:j,origin:b,post:r},me("h1",{className:"my-6 break-words font-bold typo-large-title","data-testid":"post-modal-title"},me("a",(0,a.Z)({href:r.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,se.K)(T)),r.title)),A&&me(ue.Z,{title:r.title,videoId:r.videoId,className:"mb-7"}),r.summary&&me(d.Z,{className:"mb-6",summary:r.summary}),me(ee.R,{tags:r.tags||[]}),me(u.Z,{createdAt:r.createdAt,readTime:r.readTime,isVideoType:A,className:l()("mt-4 !typo-callout",A?"mb-4":"mb-8")}),!A&&me("a",(0,a.Z)({href:r.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,se.K)(T),{className:"mb-10 block cursor-pointer overflow-hidden rounded-16",style:{maxWidth:"25.625rem"}}),me(m.w,{imgSrc:r.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:le.n.post.imageCoverPlaceholder})),(null===(o=r.toc)||void 0===o?void 0:o.length)>0&&me(te.Z,{post:r,collapsible:!0,className:"mb-4 mt-2 flex laptop:hidden"}))),me(X,{onShare:I,onReadArticle:T,post:r,className:"pb-8",onClose:N,origin:b}))}},72115:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(29901),r=n(99269),a=o.createElement,i=(0,r.Z)("div","flex flex-col w-full pb-6"),l=(0,r.Z)(i,"m-auto w-full laptop:border-x laptop:border-theme-divider-tertiary");const s=function(e){var t=e.hasNavigation,n=e.className,o=e.children;return a(t?i:l,{className:n},o)}},32232:(e,t,n)=>{n.d(t,{W:()=>S});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),l=n.n(i),s=n(71830),c=n(52210),u=n(99269),d=n(31952),m=n(86825),p=n(6189),f=n(64341),v=n(22589),h=n(16309),b=n(90958),g=n(12800),y=n(85734),x=n(51273),w=["onReadArticle","onShare","post","onClose","inlineActions","className","notificationClassName","contextMenuId","onRemovePost"],N=a.createElement,k=(0,u.Z)("div","flex flex-row items-center"),P=function(e){var t=e.inlineActions,n=e.isSourceSubscribeV1;return t?m.Wu.Tertiary:n?m.Wu.Primary:m.Wu.Secondary};function S(e){var t=e.onReadArticle,n=e.onShare,i=e.post,u=e.onClose,m=e.inlineActions,S=e.className,C=(e.notificationClassName,e.contextMenuId),Z=e.onRemovePost,O=(0,r.Z)(e,w),E=(0,a.useContext)(f.ZP).openNewTab,q=(0,c.a1)(i),j=(null==i?void 0:i.type)===c.hQ.Collection;return N(k,(0,o.Z)({},O,{className:l()("gap-2",S)}),!(0,c.EN)(i)&&!!t&&N((function(){var e,n,o=(0,x.SS)(y.z.sourceSubscribe)===g.Zj.V1;return N(d.i,{placement:"bottom",content:q,disabled:!m},N(p.zx,{variant:P({inlineActions:m,isSourceSubscribeV1:o}),tag:"a",href:null!==(e=null===(n=i.sharedPost)||void 0===n?void 0:n.permalink)&&void 0!==e?e:i.permalink,target:E?"_blank":"_self",icon:N(s.h,null),onClick:t,"data-testid":"postActionsRead"},!m&&q))}),null),j&&N(b.E,{post:i,isCondensed:!0}),N(v.b,{onShare:n,post:i,onClose:u,inlineActions:m,contextMenuId:C,onRemovePost:Z,origin:h.aP.ArticleModal}))}},22589:(e,t,n)=>{n.d(t,{b:()=>y});var o=n(93309),r=n(62699),a=n.n(r),i=n(29901),l=n(58764),s=n(38429),c=n(6188),u=n(24283),d=n(52210),m=n(31952),p=n(36949),f=n(23511),v=n(23659),h=n(6189),b=n(86825),g=i.createElement;function y(e){var t,n=e.onShare,r=e.post,y=e.onClose,x=e.inlineActions,w=e.contextMenuId,N=e.onRemovePost,k=e.origin,P=(0,i.useContext)(u.ZP).user,S=(0,f.G)().showPrompt,C=(0,v.Z)({id:w}),Z=C.onMenuClick,O=C.isOpen,E=C.onHide,q=null==P||null===(t=P.roles)||void 0===t?void 0:t.includes(c.G7.Moderator),j=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post 💩",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,S(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,d.uq)(r.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.Z)(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=r.flags)||void 0===t?void 0:t.promoteToPublic,o={title:n?"Demote post":"Promote post",description:"Do you want to ".concat(n?"demote":"promote"," this post ").concat(n?"from":"to"," the public?"),okButton:{title:n?"Demote":"Promote"}},e.next=4,S(o);case 4:if(!e.sent){e.next=12;break}if(!n){e.next=10;break}return e.next=8,(0,d.qI)(r.id);case 8:e.next=12;break;case 10:return e.next=12,(0,d.B_)(r.id);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g(i.Fragment,null,g(m.i,{placement:"bottom",content:"Options"},g(h.zx,{variant:b.Wu.Tertiary,className:!x&&"ml-auto",icon:g(l.O,null),onClick:Z})),y&&g(m.i,{placement:"bottom",content:"Close"},g(h.zx,{variant:b.Wu.Tertiary,icon:g(s.q,null),onClick:function(e){return y(e)}})),g(p.Z,{onShare:n,post:r,onRemovePost:N,setShowBanPost:q?function(){return j()}:null,setShowPromotePost:q?function(){return I()}:null,contextId:w,origin:k,isOpen:O,onHidden:E}))}},62027:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),l=n.n(i),s=n(6189),c=n(86825),u=n(31952),d=n(75943),m=n(32232),p=n(51928),f=["postPosition","onPreviousPost","onNextPost","className","children","contextMenuId"],v=a.createElement;const h=function(e){var t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,i=e.className,h=void 0===i?{}:i,b=e.children,g=e.contextMenuId,y=void 0===g?"post-navigation-context":g,x=(0,r.Z)(e,f);return v("div",{className:l()("flex flex-row items-center gap-2",null==h?void 0:h.container),role:"navigation"},n&&v(u.i,{content:"Previous"},v(s.zx,{className:"-rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:n,disabled:[p.t.First,p.t.Only].includes(t)})),a&&v(u.i,{content:"Next"},v(s.zx,{className:"rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:a,disabled:[p.t.Last,p.t.Only].includes(t)})),b,v(m.W,(0,o.Z)({},x,{className:l()("flex",null==h?void 0:h.actions),notificationClassName:"ml-4",contextMenuId:y})))}},92059:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(29901),r=n(83849),a=n.n(r),i=n(38409),l=n(77144),s=n(19796),c=n(45462),u=n(86960),d=n(60656),m=n(43643),p=n(34951),f=n(73503),v=o.createElement;const h=function(e){var t=e.className,n=e.author,o=e.role,r=e.size,h=void 0===r?"xxxlarge":r,b=e.date;return v("span",{className:a()("flex flex-row items-center",null==t?void 0:t.container)},v(i.R,{user:n,link:{href:n.permalink}},v(l.YY,{user:n,size:h,nativeLazyLoading:!0})),v(i.R,{user:n,link:{href:n.permalink}},v("a",{href:n.permalink,className:a()("ml-4 flex flex-1 flex-col overflow-hidden",null==t?void 0:t.details)},v("div",{className:"flex w-full"},v(m.Ys,{className:a()("font-bold",null==t?void 0:t.name),title:n.name},n.name),v("div",{className:"flex gap-1"},v(d.a,{user:n}),!!o&&v(s.Z,{key:"squadMemberRole",role:c.Pt.Admin,removeMargins:!0}))),v("div",{className:a()("flex text-theme-label-tertiary",null==t?void 0:t.handle)},v(m.Ys,{title:"@".concat(n.username)},"@",n.username),!!b&&v(u.Z0,null),!!b&&v(p.t,{date:b,type:f.lf.Post})))))}},90958:(e,t,n)=>{n.d(t,{E:()=>C});var o,r=n(29901),a=n(19448),i=n(73283),l=n(42819),s=n(51911),c=n(4714);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}const d=function(e){return r.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("path",{d:"M17.889 9.377c.252.61.414 1.27.467 1.961l.015.264.004.21v2.226l.072.022c.803.28 1.405.988 1.53 1.852l.018.175.005.158c0 1.224-.95 2.226-2.154 2.307l-.159.006-2.046-.001-.013.033a3.94 3.94 0 01-3.216 2.384l-.21.016-.202.005a3.925 3.925 0 01-3.523-2.192l1.157-1.158a2.439 2.439 0 002.205 1.845l.161.005.16-.005a2.438 2.438 0 002.272-2.265l.005-.168h3.25l.102-.006a.813.813 0 000-1.612l-.196-.012a.813.813 0 01-.712-.704l-.006-.103v-2.807l-.003-.183a4.871 4.871 0 00-.16-1.074l1.177-1.179zm2.64-5.83a.75.75 0 01.002 1.06l-16 16.026a.75.75 0 01-1.062-1.06l16-16.025a.75.75 0 011.06-.001zM12 3a2.312 2.312 0 012.25 2.847c.192.072.379.153.561.243l-1.14 1.142a4.837 4.837 0 00-.26-.087l-.143-.041a4.881 4.881 0 00-2.53-.001l-.148.042a4.876 4.876 0 00-3.46 4.441l-.005.226v1.976l-3.047 3.053a2.301 2.301 0 01-.057-.282l-.016-.156L4 16.245c0-.903.52-1.693 1.325-2.076l.165-.071.135-.048v-2.238A6.377 6.377 0 019.75 5.846 2.312 2.312 0 0112 3zm0 1.5a.812.812 0 10.788 1.013l.018-.099.007-.101A.812.812 0 0012 4.5z",fill:"currentcolor",fillRule:"evenodd"})))};var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const f=function(e){return r.createElement("svg",p({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),m||(m=r.createElement("path",{d:"M17.486 9.741c.211.57.336 1.18.36 1.818l.004.219v3.37l.008.123c.055.443.409.794.853.846l.236.014a.975.975 0 010 1.935l-.122.008h-3.9l-.007.2a2.926 2.926 0 01-2.726 2.72L12 21l-.193-.006a2.926 2.926 0 01-2.727-2.748l-.002-.051 8.408-8.454zm3.089-6.297a.75.75 0 01.003 1.06L4.532 20.64a.75.75 0 11-1.064-1.058L19.514 3.446a.75.75 0 011.061-.002zM12 5.926c.526 0 1.036.07 1.521.2l.172.049c.248.075.49.166.723.272L6.15 14.758v-2.98l.006-.272a5.853 5.853 0 014.152-5.33l.177-.052c.483-.13.991-.198 1.515-.198zM12 3c.538 0 .975.437.975.975l-.008.123-.022.117A.975.975 0 1112 3z",fill:"currentcolor",fillRule:"evenodd"})))};var v=r.createElement,h=function(e){return v(c.ZP,(0,s.Z)({},e,{IconPrimary:d,IconSecondary:f}))},b=n(83612),g=n(31952),y=n(6189),x=n(86825),w=n(68071),N=n(24283),k=r.createElement,P=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return k(y.zx,{variant:t?x.Wu.Secondary:x.Wu.Primary,icon:k(t?h:b.Dk,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},S=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return k(g.i,{content:t?"Unsubscribe":"Subscribe"},k(y.zx,{variant:x.Wu.Tertiary,icon:k(t?h:b.Dk,null),disabled:n,onClick:o}))},C=function(e){var t=e.post,n=e.isCondensed,o=(0,N.Eu)(),r=o.isLoggedIn,s=o.showLogin,c=(0,a.H)({params:null!=t&&t.id?[{notificationType:i.k$.CollectionUpdated,referenceId:t.id}]:void 0}),u=c.preferences,d=c.subscribeNotification,m=c.clearNotificationPreference,p=c.isFetching,f=!(null==u||!u.some((function(e){return(0,a.$)(e,i.k$.CollectionUpdated,null==t?void 0:t.id,[l.QP.Subscribed])})));return k(n?S:P,{isSubscribed:f,isFetching:p,onClick:function(){if(r){var e={type:i.k$.CollectionUpdated,referenceId:t.id};f?m(e):d(e)}else s({trigger:w.IP.CollectionSubscribe})}})}},82504:(e,t,n)=>{n.d(t,{b:()=>o});var o=(0,n(99269).Z)("main","flex flex-col flex-1 px-4 tablet:px-8 tablet:border-r tablet:border-theme-divider-tertiary")},35075:(e,t,n)=>{n.d(t,{J:()=>d});var o=n(70468),r=n(29901),a=n(6189),i=n(86825),l=n(33973),s=n(5111),c=n(61991),u=r.createElement;function d(e){var t,n,r,d,m=e.link,p=e.text,f=void 0===p?{}:p,v=e.onCopy,h=e.className,b=e.trackingProps,g=(0,s.y)((function(){return m})),y=(0,o.Z)(g,2),x=y[0],w=y[1],N=(0,c.Os)().trackEvent;return u(l.n,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:m,fieldType:"tertiary",actionButton:u(a.zx,{size:i.qE.Small,variant:i.Wu.Primary,onClick:function(){w(),N(b),v&&v()}},(r=null!==(t=null==f?void 0:f.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==f?void 0:f.copied)&&void 0!==n?n:"Copied",x?d:r)),readOnly:!0})}},33968:(e,t,n)=>{n.d(t,{D:()=>E,W:()=>q});var o=n(28076),r=n(51911),a=n(53767),i=n(29901),l=n(83849),s=n.n(l),c=n(48706),u=n(59266),d=n(45462),m=n(6189),p=n(86825),f=n(24283),v=n(75160),h=n(47449),b=n(33256),g=n(20726),y=n(61991),x=n(16309),w=n(31952),N=n(43573),k=n(68071),P=["className","squad","onClick","children","origin","inviterMember"],S=["className","squad","joinText","leaveText","blockedTooltipText","origin","onSuccess"],C=i.createElement;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.className,n=e.squad,o=e.onClick,l=e.children,c=e.origin,u=e.inviterMember,d=(0,a.Z)(e,P),p=(0,y.Os)().trackEvent;return(0,i.useEffect)((function(){p({event_name:x.s6.Impression,target_type:x.Lm.SquadJoinButton,extra:JSON.stringify({squad:n.id,origin:c,squad_type:n.public?"public":"private"})})}),[]),C(m.zx,(0,r.Z)({},d,{className:s()(t),onClick:function(e){n.currentMember||p({event_name:x.s6.ClickJoinSquad,extra:JSON.stringify({inviter:null==u?void 0:u.id,squad:n.id})}),o(e)}}),l)},q=function(e){var t,n=e.className,o=e.squad,i=e.joinText,l=void 0===i?"Join Squad":i,s=e.leaveText,m=void 0===s?"Leave Squad":s,y=e.blockedTooltipText,x=void 0===y?"You are not allowed to join the Squad":y,P=e.origin,Z=e.onSuccess,q=(0,a.Z)(e,S),j=(0,c.NL)(),I=(0,v.sW)().displayToast,T=(0,f.Eu)(),L=T.user,D=T.showLogin,A=(null===(t=o.currentMember)||void 0===t?void 0:t.role)===d.Pt.Blocked,M=!!o.currentMember&&!A,z=(0,u.D)((0,h.C)({squad:o}),{onError:function(){I(g.p.error.generic)},onSuccess:Z}),R=z.mutateAsync,Y=z.isLoading,B=(0,u.D)((0,b.y)({squad:o}),{onSuccess:function(e){if(e){I("👋 You have left the Squad.");var t=(0,N.e0)(N.dt.Squad,L,o.handle),n=j.getQueryData(t);n&&j.setQueryData(t,O(O({},n),{},{currentMember:null,membersCount:n.membersCount-1})),j.invalidateQueries(["squadMembersInitial",o.handle])}},onError:function(){I(g.p.error.generic)}}),U=B.mutateAsync,W=B.isLoading,F=Y||W;return C(w.i,{sticky:!0,placement:"bottom",disabled:!A,content:x},C("div",null,C(E,(0,r.Z)({},q,{variant:M?p.Wu.Secondary:p.Wu.Primary,className:n,squad:o,disabled:A||F,onClick:function(){L?M?U():R():D({trigger:k.IP.JoinSquad,options:{onLoginSuccess:R,onRegistrationSuccess:R}})},origin:P}),M?m:l)))}},19796:(e,t,n)=>{n.d(t,{Z:()=>v});var o,r=n(51911),a=n(28076),i=n(29901),l=n(83849),s=n.n(l),c=n(45462),u=n(25052),d=n(2360),m=n(72485),p=i.createElement,f=(o={},(0,a.Z)(o,c.Pt.Moderator,u.t),(0,a.Z)(o,c.Pt.Admin,d.r),o);const v=function(e){var t=e.role,n=e.className,o=e.iconProps,a=e.removeMargins,i=e.disableResponsive,l=f[t];if(!l)return null;return p(m.Z,{className:s()("text-theme-color-cabbage",n),content:t,Icon:function(e){return p(l,(0,r.Z)({secondary:!0},e))},iconProps:o,removeMargins:a,disableResponsive:i})}},31976:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),l=n.n(i),s=["videoId","className","title"],c=a.createElement;const u=function(e){var t=e.videoId,n=e.className,a=e.title,i=(0,r.Z)(e,s);return c("div",{className:l()("relative w-full overflow-hidden rounded-16 pt-[56.25%]",n)},c("iframe",(0,o.Z)({title:a,src:"https://www.youtube-nocookie.com/embed/".concat(t),allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 aspect-video w-full border-0"},i)))}},84062:(e,t,n)=>{n.d(t,{Z:()=>Oe});var o,r,a=n(98935),i=n(93309),l=n(28076),s=n(62699),c=n.n(s),u=n(29901),d=n(83849),m=n.n(d),p=n(91385),f=n.n(p),v=n(48706),h=n(2067),b=n(24283),g=n(66022),y=n(81190),x=(0,p.gql)(o||(o=(0,g.Z)(["\n  fragment FurtherReading on Post {\n    id\n    title\n    permalink\n    commentsPermalink\n    bookmarked @include(if: $loggedIn)\n    image\n    readTime\n    source {\n      ...SourceShortInfo\n    }\n    scout {\n      ...UserShortInfo\n    }\n    author {\n      ...UserShortInfo\n    }\n  }\n  ","\n  ","\n"])),y.JT,y.T),w=(0,p.gql)(r||(r=(0,g.Z)(["\n  query SimilarPosts(\n    $post: ID!\n    $loggedIn: Boolean! = false\n    $trendingFirst: Int\n    $similarFirst: Int\n    $discussedFirst: Int\n    $withDiscussedPosts: Boolean! = false\n    $tags: [String]!\n  ) {\n    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      trending\n      tags\n    }\n    similarPosts: randomSimilarPostsByTags(\n      tags: $tags\n      post: $post\n      first: $similarFirst\n    ) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      numComments\n      numUpvotes\n      tags\n    }\n    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst)\n      @include(if: $withDiscussedPosts) {\n      ...FurtherReading\n    }\n  }\n  ","\n"])),x),N=n(96206),k=n(84376),P=n(52210),S=n(51911),C=n(34260),Z=n.n(C),O=n(69885),E=n(75943),q=n(11982),j=n(73084),I=n(11056),T=n(22057),L=n(99269),D=n(8102),A=n(61991),M=n(31952),z=n(43643),R=n(81383),Y=n(6189),B=n(86825),U=n(57767),W=n(51273),F=n(85734),Q=n(12800),V=n(86960),_=u.createElement;function H(e){var t=e.upvotes,n=e.comments,o=e.className;return _("p",{className:m()("truncate typo-footnote",o),"data-testid":"post-engagements-count"},t?"".concat(t," Upvotes"):"",t&&n?_(u.Fragment,null," ",V.o9," "):"",n?"".concat(n," Comments"):"")}var $=n(3747),J=n(4714),G=n(91735),K=n(39460),X=u.createElement;function ee(e){var t=e.post,n=e.onLinkClick,o=t.type===P.hQ.VideoYouTube,r=(0,K.J)(t);return X(Z(),{href:t.commentsPermalink,passHref:!0},X("a",{className:"flex flex-col gap-2 text-text-quaternary typo-footnote",href:t.commentsPermalink,onClick:n},X($.r,{isVideoType:o,imageProps:{loading:"lazy",alt:"Cover preview of: ".concat(t.title),src:r,className:"w-full !h-24 !rounded-8"},videoProps:{size:J.Jh.Large}}),X("h3",{className:"line-clamp-3 font-bold text-text-primary typo-subhead"},t.title),X(H,{className:"mt-auto text-text-quaternary",upvotes:t.numUpvotes,comments:t.numComments}),X(G.Z,{readTime:t.readTime,isVideoType:o})))}var te=u.createElement,ne=te("div",{className:"h-px bg-border-subtlest-tertiary"}),oe="w-7 h-7 rounded-full mt-1",re="flex flex-col ml-3 mr-2 flex-1",ae=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return te("article",{className:m()("group relative flex items-start py-2 pl-4 pr-2 hover:bg-theme-hover",q.Z.card)},te(I.YS,(0,S.Z)({href:t.commentsPermalink,title:t.title},(0,R.K)((function(){return n(t)})))),te(j.w,{imgSrc:t.source.image,imgAlt:t.source.name,className:oe}),te("div",{className:re},te("h5",{className:m()("multi-truncate mb-0.5 text-ellipsis break-words text-theme-label-primary typo-callout",q.Z.title)},t.title),t.trending?te("div",{className:"flex items-center text-theme-label-tertiary typo-footnote"},te(z.nJ,null),te("div",{className:"ml-2"},t.trending," devs read it last hour")):te(H,{upvotes:t.numUpvotes,comments:t.numComments,className:"text-text-tertiary"})),te(M.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},te(Y.zx,{variant:B.Wu.Tertiary,color:U.S.Bun,className:"mt-1 group-hover:visible mouse:invisible",pressed:t.bookmarked,size:B.qE.Small,icon:te(O.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))},ie=(0,L.Z)(T.f,"h-3 rounded-12 my-0.5");function le(e){var t=e.posts,n=e.isLoading,o=e.onBookmark,r=e.className,a=e.title,l=void 0===a?"You might like":a,s=e.moreButtonProps,d=e.ListItem,p=void 0===d?ae:d,f=(0,W.SS)(F.z.postPageOnboarding)===Q.cq.V4,v=(0,u.useContext)(A.ZP).trackEvent,h=(null==s?void 0:s.href)||"https://app.daily.dev/",b=(null==s?void 0:s.text)||"View all",g=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v((0,D.gR)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f&&null!=t&&t.length?te("section",{className:"grid grid-cols-2 gap-4"},t.map((function(e){return te(ee,{key:e.id,post:e,onLinkClick:function(){return g(e)}})}))):te("section",{className:m()("flex flex-col rounded-16 border border-theme-divider-tertiary",r)},te("h4",{className:"py-3 pl-6 pr-4 text-theme-label-tertiary typo-body"},l),ne,n?te(u.Fragment,null,te(p.Placeholder,null),te(p.Placeholder,null),te(p.Placeholder,null)):te(u.Fragment,null,t.map((function(e){return te(p,{key:e.id,post:e,onBookmark:o,onLinkClick:function(){return g(e)}})}))),ne,te(Z(),{href:h,passHref:!0},te(Y.zx,{variant:B.Wu.Tertiary,className:"my-2 ml-2 self-start",size:B.qE.Small,tag:"a",icon:te(E.e0,{className:"rotate-90"}),iconPosition:B.s6.Right},b)))}ae.Placeholder=function(){return te("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},te(T.f,{className:oe}),te("div",{className:re},te(ie,{style:{width:"80%"}}),te(ie,{style:{width:"80%"}}),te(ie,{style:{width:"40%"}})))};var se=n(29097),ce=u.createElement,ue=ce("div",{className:"h-px bg-theme-divider-tertiary"}),de=function(e){var t=e.post,n=e.onLinkClick;return ce("article",{className:m()("group relative flex flex-col items-start px-4 py-3 hover:bg-theme-hover",q.Z.card)},ce(Z(),{href:t.commentsPermalink,prefetch:!1,passHref:!0},ce(I.YS,(0,S.Z)({title:t.title},(0,R.K)((function(){return n(t)}))))),ce("h5",{className:m()("multi-truncate mb-2 text-theme-label-primary typo-callout",q.Z.title)},t.title),ce("div",{className:"flex items-center text-theme-label-tertiary typo-footnote"},ce("div",null,t.numComments," Comments")))},me=(0,L.Z)(T.f,"h-3 rounded-12 my-0.5"),pe=function(){return ce("article",{"aria-busy":!0,className:"relative flex flex-col items-start px-4 py-3"},ce(me,{style:{width:"80%"}}),ce(me,{style:{width:"80%"}}),ce(me,{style:{width:"40%"}}))},fe=(0,L.Z)(se.Hl,"flex flex-col");function ve(e){var t,n,o=e.posts,r=e.isLoading,a=e.className,i=(0,u.useContext)(A.ZP).trackEvent,l=function(e){i((0,D.gR)("click",e,{extra:{origin:"best discussions"}}))};return ce(fe,{className:a},ce("h4",{className:"py-3 pl-6 pr-4 text-theme-label-tertiary typo-body"},"Best discussions"),ue,r?ce(u.Fragment,null,ce(pe,null),ce(pe,null),ce(pe,null)):ce(u.Fragment,null,null==o?void 0:o.slice(1).map((function(e){return ce(de,{key:e.id,post:e,onLinkClick:l})}))),ue,ce(Z(),{href:null!==(t=null==o||null===(n=o[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},ce(Y.zx,(0,S.Z)({variant:B.Wu.Tertiary,className:"my-2 ml-2 self-start",size:B.qE.Small,tag:"a",icon:ce(E.e0,{className:"rotate-90"}),iconPosition:B.s6.Right},(0,R.K)((function(){}))),"I'm feeling lucky")))}var he=n(36671),be=n(10120),ge=n(64761),ye=n(92059),xe=u.createElement,we=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return xe("article",{className:m()("group relative flex items-start px-4 py-2 hover:bg-theme-hover",q.Z.card)},xe(I.YS,(0,S.Z)({href:t.commentsPermalink,title:t.title},(0,R.K)((function(){return n(t)})))),xe("div",{className:"flex w-full flex-col"},(null==t?void 0:t.author)&&xe(ye.Z,{className:{name:"text-theme-label-primary typo-callout",handle:"text-theme-label-quaternary typo-callout",details:"flex-1 pr-8"},author:t.author,size:"large",date:t.createdAt}),xe("p",{className:"mt-2 line-clamp-3 text-theme-label-primary typo-callout"},t.title)),xe(M.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},xe(Y.zx,{className:"absolute right-3 group-hover:visible mouse:invisible",variant:B.Wu.Tertiary,color:U.S.Bun,pressed:t.bookmarked,size:B.qE.Small,icon:xe(O.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))};we.Placeholder=function(){return xe("article",{"aria-busy":!0,className:"relative flex flex-col px-4 py-2"},xe("div",{className:"mb-2 flex flex-1 flex-row items-center"},xe(T.f,{className:"mt-1 h-10 w-10 rounded-14"}),xe("div",{className:"ml-3 mr-2 flex flex-1 flex-col"},xe(se.P5,{style:{width:"40%"}}),xe(se.P5,{style:{width:"40%"}}))),xe(se.P5,{style:{width:"80%"}}),xe(se.P5,{style:{width:"80%"}}))};var Ne=n(88467),ke=u.createElement;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e,t,n){return e.map((function(e){return e.id===t?Se(Se({},e),n(e)):e}))},Ze=function(e,t,n){return function(){var o=(0,i.Z)(c().mark((function o(r){var a,i;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=r.id,o.next=3,e.cancelQueries(t);case 3:return i=e.getQueryData(t),e.setQueryData(t,Se(Se({},i),{},{trendingPosts:Ce(i.trendingPosts,a,n),similarPosts:Ce(i.similarPosts,a,n)})),o.abrupt("return",(function(){return e.setQueryData(t,i)}));case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()};function Oe(e){var t,n,o=e.currentPost,r=e.className,l=(0,W.SS)(F.z.postPageOnboarding)===Q.cq.V4,s=(0,ge._N)(o.source),d=o.id,p=o.tags,g=["furtherReading",d],y=(0,u.useContext)(b.ZP),x=y.user,S=y.isLoggedIn,C=(0,v.NL)(),Z=l?12:3,O=(0,h.a)(g,(0,i.Z)(c().mark((function e(){var t,n,r,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.source,!s){e.next=7;break}return e.next=4,f()(N.B3,be.zQ,{first:Z,loggedIn:S,source:t.id,ranking:"TIME",supportedTypes:[P.hQ.Article,P.hQ.Share,P.hQ.Freeform]});case 4:return i=e.sent,u=(null==i||null===(n=i.page)||void 0===n||null===(r=n.edges)||void 0===r||null===(a=r.map((function(e){return e.node})))||void 0===a?void 0:a.filter((function(e){return e.id!==o.id})))||[],e.abrupt("return",{trendingPosts:[],similarPosts:u,discussedPosts:[]});case 7:return e.abrupt("return",f()(N.B3,w,{loggedIn:!!x,post:d,trendingFirst:1,similarFirst:l?11:3,discussedFirst:4,withDiscussedPosts:!l,tags:p}));case 8:case"end":return e.stop()}}),e)}))),Se({},Ne.t3)),E=O.data,q=O.isLoading,j=(0,k._v)({onMutate:function(e){var t=e.id;return Ze(C,g,(function(e){return{bookmarked:!e.bookmarked}}))({id:t})}}).toggleBookmark;if(!(null!=E&&E.similarPosts||q))return ke(u.Fragment,null);var I=null!=E&&E.similarPosts?[].concat((0,a.Z)(E.trendingPosts),(0,a.Z)(E.similarPosts.slice(0,Math.min(E.similarPosts.length,Z-E.trendingPosts.length)))):[],T=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j({post:t,origin:"recommendation"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=(null===(t=o.toc)||void 0===t?void 0:t.length)>0;return ke("div",{className:m()(r,"flex flex-col gap-6")},L&&ke(he.Z,{post:o,className:"hidden laptop:flex"}),(q||(null==I?void 0:I.length)>0)&&ke(le,{posts:I,isLoading:q,onBookmark:T,title:s?"More posts from ".concat(o.source.name):void 0,moreButtonProps:{href:s?o.source.permalink:void 0,text:s?"Show more":void 0},ListItem:s?we:void 0}),(q||(null==E||null===(n=E.discussedPosts)||void 0===n?void 0:n.length)>0)&&!l&&ke(ve,{posts:null==E?void 0:E.discussedPosts,isLoading:q}))}},36671:(e,t,n)=>{n.d(t,{Z:()=>Z});var o,r=n(93309),a=n(62699),i=n.n(a),l=n(29901),s=n(83849),c=n.n(s),u=n(51911),d=n(4714);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}const p=function(e){return l.createElement("svg",m({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=l.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const h=function(e){return l.createElement("svg",v({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),f||(f=l.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};var b=l.createElement,g=function(e){return b(d.ZP,(0,u.Z)({},e,{IconPrimary:p,IconSecondary:h}))},y=n(43643),x=n(61991),w=n(8102);const N={details:"VcLCIuDU9WFPxvzmyOldTA=="};var k=n(29097),P=l.createElement,S=P("div",{className:"mb-3 h-px bg-theme-divider-tertiary"}),C=function(e,t){return t.id?"".concat(e.permalink,"?a=").concat(t.id):e.permalink};function Z(e){var t=e.post,n=e.className,o=e.collapsible,a=(0,l.useContext)(x.ZP).trackEvent,s=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,w.gR)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=P(l.Fragment,null,t.toc.map((function(e){return P("a",{key:e.text,href:C(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:s,className:"flex-1 truncate px-4 py-2 typo-callout hover:bg-theme-hover"},e.text)}))),d="flex items-center py-3 px-4 typo-body text-theme-label-tertiary border border-theme-divider-quaternary";return o?P("details",{className:c()("select-none flex-col overflow-hidden rounded-16",N.details,n)},P(y.ER,{className:"hover:bg-theme-hover"},P("div",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents",P(y.vd,null))),S,u):P(k.Hl,{className:c()("flex-col overflow-hidden rounded-16 border border-theme-divider-quaternary pb-3",n)},P("h4",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents"),S,u)}},29097:(e,t,n)=>{n.d(t,{Gd:()=>s,Hl:()=>i,P5:()=>l,zl:()=>a});var o=n(99269),r=n(22057),a="border border-theme-divider-tertiary rounded-16",i=(0,o.Z)("div",a),l=(0,o.Z)(r.f,"h-3 rounded-12 my-0.5"),s=(0,o.Z)("div","h-px bg-theme-divider-tertiary")},51185:(e,t,n)=>{n.d(t,{E:()=>h});var o=n(98935),r=n(28076),a=n(93309),i=n(62699),l=n.n(i),s=n(48706),c=n(59266),u=n(52210),d=n(43573),m=n(24283),p=n(73503);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){var e,t=(0,s.NL)(),n=(0,m.Eu)().user,r=(0,d.e0)(d.dt.UserStreak,n),i=(0,d.e0)(d.dt.ReadingStreak30Days,n),f=(0,c.D)(u.ox,{onSuccess:(e=(0,a.Z)(l().mark((function e(){var a,s,c,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invalidateQueries(r);case 2:if(t.setQueryData(r,(function(e){var t=v({},e);return null!=t&&t.lastViewAt&&new Date(t.lastViewAt).getDate()===(new Date).getDate()||(t.max+=1,t.total+=1,t.current+=1),t.lastViewAt=new Date,t})),!(a=t.getQueryData(i))){e.next=13;break}if(s=(0,p._u)((null==n?void 0:n.timezone)||"UTC"),c=s.toISOString().split("T")[0],-1!==(u=a.findIndex((function(e){return e.date===c})))){e.next=10;break}return e.abrupt("return",t.setQueryData(i,[].concat((0,o.Z)(a),[{date:c,reads:1}])));case 10:return(d=(0,o.Z)(a))[u].reads+=1,e.abrupt("return",t.setQueryData(i,d));case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return f.mutateAsync}},41521:(e,t,n)=>{n.d(t,{T:()=>u});var o=n(28076),r=n(98935),a=n(48706),i=n(34521);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return(0,r.Z)(e).sort((function(e,t){return e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:-1}))},u=function(){var e=(0,a.NL)(),t=function(){return e.getQueryData(i.i)};return{addSquad:function(n){var o=t(),a=(null==o?void 0:o.squads)||[];if(!a.some((function(e){return e.id===n.id}))){var l=c([].concat((0,r.Z)(a),[n]));e.setQueryData(i.i,s(s({},o),{},{squads:l}))}},deleteSquad:function(n){var o,r=t(),a=null===(o=r.squads)||void 0===o?void 0:o.filter((function(e){return e.id!==n}));e.setQueryData(i.i,s(s({},r),{},{squads:a}))},updateSquad:function(n){var o,r=t(),a=null===(o=r.squads)||void 0===o?void 0:o.map((function(e){return n.id!==e.id?e:n}));e.setQueryData(i.i,s(s({},r),{},{squads:c(null!=a?a:[])}))}}}},23659:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(29901),r=n(28189),a=n(48706),i=n(2067),l=n(43573);function s(e){var t=e.id,n=(0,o.useMemo)((function(){return(0,l.e0)(l.dt.ContextMenu,null,t)}),[t]),s=(0,a.NL)(),c=(0,r.av)({id:t}),u=c.show,d=c.hideAll,m=(0,i.a)(n,(function(){var e;return null!==(e=s.getQueryData(n))&&void 0!==e&&e}),{initialData:!1}).data,p=(0,o.useCallback)((function(e){return s.setQueryData(n,e)}),[s,n]),f=(0,o.useCallback)((function(){p(!1),d()}),[p,d]);return{onMenuClick:(0,o.useCallback)((function(e){var t=e.currentTarget.getBoundingClientRect(),n=t.right,o=t.bottom,r=!m;r&&u(e,{position:{x:n,y:o+4}}),p(r)}),[u,m,p]),onHide:f,isOpen:m}}},47449:(e,t,n)=>{n.d(t,{C:()=>v});var o=n(93309),r=n(62699),a=n.n(r),i=n(48706),l=n(29901),s=n(64761),c=n(61991),u=n(16309),d=n(41521),m=n(43573),p=n(91255),f=n(96543),v=function(e){var t=e.squad,n=e.referralToken,r=(0,i.NL)(),v=(0,d.T)().addSquad,h=(0,c.Os)().trackEvent,b=(0,f.o)().completeAction;return(0,l.useCallback)((0,o.Z)(a().mark((function e(){var o,i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={sourceId:t.id},n&&(o.token=n),e.next=4,(0,s.Gx)(o);case 4:return i=e.sent,h({event_name:u.s6.CompleteJoiningSquad,extra:JSON.stringify({inviter:i.currentMember.user.id,squad:i.id})}),v(i),l=(0,m.e0)(m.dt.Squad,i.currentMember.user,i.handle),r.setQueryData(l,i),r.invalidateQueries(["squadMembersInitial",t.handle]),b(p.Us.JoinSquad),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)}))),[t.id,t.handle,n,h,v,b,r])}},33256:(e,t,n)=>{n.d(t,{y:()=>f});var o=n(93309),r=n(62699),a=n.n(r),i=n(29901),l=n(64761),s=n(23511),c=n(41521),u=n(61991),d=n(16309),m=n(86825),p=n(57767),f=function(e){var t=e.squad,n=(0,i.useContext)(u.ZP).trackEvent,r=(0,s.G)().showPrompt,f=(0,c.T)().deleteSquad;return(0,i.useCallback)((0,o.Z)(a().mark((function e(){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={title:"Leave ".concat(t.name),description:"Leaving ".concat(t.name," means that you will lose your access to all posts that were shared in the Squad"),okButton:{title:"Leave",variant:m.Wu.Secondary},cancelButton:{title:"Stay",variant:m.Wu.Primary,color:p.S.Cabbage,type:"button"},className:{buttons:"flex-row-reverse"}},e.next=3,r(o);case 3:if(!(i=e.sent)){e.next=9;break}return n({event_name:d.s6.LeaveSquad,extra:JSON.stringify({squad:t.id})}),e.next=8,(0,l.bP)(t.id);case 8:f(t.id);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)}))),[f,r,t,n])}},61030:(e,t,n)=>{n.d(t,{t:()=>r});var o=n(29901),r=function(e){var t=e.source,n=e.user;return(0,o.useMemo)((function(){var e,o;return{role:null==t||null===(e=t.privilegedMembers)||void 0===e||null===(o=e.find((function(e){return e.user.id===(null==n?void 0:n.id)})))||void 0===o?void 0:o.role}}),[n,t])}},76309:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(29901),r=n(48706),a=n(24283),i=n(20553),l=n(52210),s=n(61991),c=n(8102),u=n(39362),d=n(41971),m=n(11178),p=n(51273),f=n(85734);const v=function(e){var t=e.origin,n=e.post,v=null==n?void 0:n.id,h=(0,p.SS)(f.z.copyLink),b=(0,r.NL)(),g=(0,a.Eu)().user,y=(0,s.Os)().trackEvent,x=(0,u.Z)({origin:t}),w=function(){return x({post:(null==n?void 0:n.sharedPost)||n,optional:{parent_id:n.sharedPost&&n.id}})},N=(0,i.h)(t),k=N.sharePost,P=N.openSharePost,S=N.closeSharePost,C=N.copyLink,Z=function(){return h?C(n):P(n)};return(0,d.Z)((function(){return{query:l.uw,variables:{ids:[v]}}}),{next:function(e){e.postsEngaged.id===v&&(0,m.cM)(b,n.id,e.postsEngaged)}}),(0,o.useEffect)((function(){n&&y((0,c.gR)("".concat(t," view"),n))}),[n]),(0,o.useMemo)((function(){return{sharePost:k,onReadArticle:w,onSharePost:Z,onCloseShare:S}}),[n,g,t,k])}},409:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(29901),r=n(22454);var a=n(71389).w8;const i=function(e){var t,n=e.isDisplayed,i=e.offset,l=void 0===i?0:i;(0,o.useEffect)((function(){var e,t;window.matchMedia&&(window.matchMedia(a.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),t=n,(0,o.useEffect)((function(){var e=document.querySelector("#__next");if(e)return t?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"),function(){e.classList.remove("hide-on-modal")}}),[t]);var s=(0,o.useState)("relative"),c=s[0],u=s[1],d=(0,o.useState)(),m=d[0],p=d[1];!function(e,t){var n=t.onOverOffset,r=t.onUnderOffset,a=t.offset,i=t.scrollProperty,l=void 0===i?"scrollTop":i;(0,o.useEffect)((function(){var t=e();if(!t)return null;var o=function(e){(e.currentTarget[l]>a?n:r)()};return t.addEventListener("scroll",o),function(){t.removeEventListener("scroll",o)}}),[n,r,a,l,e])}((0,o.useCallback)((function(){return m}),[m]),{onOverOffset:function(){return"fixed"!==c&&u("fixed")},onUnderOffset:function(){return"relative"!==c&&u("relative")},offset:r.QY+l});var f=(0,o.useCallback)((function(){var e,t=document.getElementById("post-modal");if(t){var n=t.parentElement;p(n),null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),u("relative")}}),[]);return{position:c,onLoad:f}}}}]);