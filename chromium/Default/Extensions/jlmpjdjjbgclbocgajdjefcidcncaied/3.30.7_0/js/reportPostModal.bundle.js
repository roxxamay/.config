"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[4933],{34494:(e,t,n)=>{n.d(t,{X:()=>p});var r=n(51911),o=n(53767),a=n(29901),l=n(83849),i=n.n(l),c=n(87809),s=n(39638),u=["name","checked","children","className","onToggle","id","disabled"],d=a.createElement,p=(0,a.forwardRef)((function(e,t){var n=e.name,l=e.checked,p=e.children,f=e.className,m=e.onToggle,b=e.id,v=e.disabled,h=(0,o.Z)(e,u),y=(0,a.useState)(l),g=y[0],k=y[1];(0,a.useEffect)((function(){k(l)}),[l]);return d("label",{className:i()("relative z-1 inline-flex cursor-pointer select-none items-center p-1 pr-3 text-theme-label-tertiary typo-footnote",s.Z.label,f,{checked:g,disabled:v}),style:{transition:"color 0.1s linear"},htmlFor:b},d("input",(0,r.Z)({},h,{disabled:v,id:b,type:"checkbox",className:"absolute h-0 w-0 opacity-0",name:n,checked:l,onChange:function(e){k(e.target.checked),null==m||m(e.target.checked)},ref:t})),d("div",{className:i()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-theme-divider-primary",s.Z.checkmark)},d(c.t,{className:"icon h-full w-full text-theme-label-primary opacity-0",style:{transition:"opacity 0.1s linear"}})),p)}))},92606:(e,t,n)=>{n.d(t,{y:()=>m});var r=n(51911),o=n(53767),a=n(29901),l=n(68802),i=n(6189),c=n(86825),s=n(97518),u=n(43643),d=["onReport","reasons","heading","title","footer","disabled"],p=a.createElement,f="OTHER";function m(e){var t=e.onReport,n=e.reasons,m=e.heading,b=e.title,v=e.footer,h=e.disabled,y=(0,o.Z)(e,d),g=(0,a.useState)(null),k=g[0],O=g[1],x=(0,a.useState)(),R=x[0],E=x[1];return p(s.u_,(0,r.Z)({isOpen:!0,kind:s.u_.Kind.FixedCenter},y),p(s.u_.Header,{title:m}),p(s.u_.Body,{className:"py-5"},b&&p("p",{className:"mb-6 text-theme-label-tertiary typo-callout"},b),p(l.Y,{name:"report_reason",options:"function"==typeof n?n(k):n,value:k,onChange:O}),p("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),p("textarea",{onInput:function(e){return E(e.currentTarget.value)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-theme-float p-2 typo-body","data-testid":"report_comment"})),p(s.u_.Footer,{justify:v?u.WD.Between:u.WD.End},v,p(i.zx,{variant:c.Wu.Primary,disabled:!k||k===f&&!R||h,onClick:function(e){return t(e,k,R)}},"Submit report")))}},78007:(e,t,n)=>{n.r(t),n.d(t,{ReportPostModal:()=>w,default:()=>N});var r=n(51911),o=n(93309),a=n(28076),l=n(53767),i=n(98935),c=n(62699),s=n.n(c),u=n(29901),d=n(34494),p=n(6189),f=n(86825),m=n(43643),b=n(4812),v=n(8102),h=n(61991),y=n(92606),g=["index","post","origin","onReported"],k=u.createElement;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=[{value:"IRRELEVANT",label:"The post is not about..."},{value:"BROKEN",label:"Broken link"},{value:"CLICKBAIT",label:"Clickbait"},{value:"LOW",label:"Low-quality content"},{value:"NSFW",label:"NSFW"},{value:"OTHER",label:"Other"}],E={IRRELEVANT:function(e){var t,n=e.post,r=e.selectedTags,o=e.setSelectedTags;return k(m.gq,{className:"my-4 flex-wrap gap-2"},null===(t=n.tags)||void 0===t?void 0:t.map((function(e){var t=r.includes(e);return k(p.zx,{key:e,variant:t?f.Wu.Primary:f.Wu.Float,size:f.qE.Small,onClick:function(){o(t?r.filter((function(t){return t!==e})):[].concat((0,i.Z)(r),[e]))}},"#",e)})))}};function w(e){var t,n=e.index,a=e.post,i=e.origin,c=e.onReported,p=(0,l.Z)(e,g),f=(0,h.Os)().trackEvent,m=(0,u.useRef)(),O=(0,u.useState)((function(){return[]})),w=O[0],N=O[1],S=(0,u.useCallback)((function(e){return R.filter((function(e){var t;return("IRRELEVANT"!==e.value||0!==(null==a||null===(t=a.tags)||void 0===t?void 0:t.length))&&e})).map((function(t){var n=t.value===e&&E[t.value];return n?x(x({},t),{},{afterElement:k(n,{post:a,selectedTags:w,setSelectedTags:N})}):t}))}),[a,w]),T=(0,b.Z)().reportPost,j=function(){var e=(0,o.Z)(s().mark((function e(t,r,o){var l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({id:a.id,reason:r,comment:o,tags:w});case 2:if(l=e.sent,l.successful){e.next=6;break}return e.abrupt("return");case 6:f((0,v.gR)("report post",a,{extra:{origin:i}})),"function"==typeof c&&c(a,{index:n,shouldBlockSource:null===(u=m.current)||void 0===u?void 0:u.checked}),p.onRequestClose(t);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return k(y.y,(0,r.Z)({},p,{isOpen:!0,onReport:j,reasons:S,heading:"Report post",title:'"'.concat(null==a?void 0:a.title,'"'),footer:k(d.X,{ref:m,name:"blockSource",className:"font-normal"},"Don't show posts from ",null==a||null===(t=a.source)||void 0===t?void 0:t.name)}))}const N=w},39638:(e,t,n)=>{n.d(t,{Z:()=>r});const r={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);